ECMAScript 6 
å˜é‡æ‰©å±• 
  lexical scopes,è¯æ³•ä½œç”¨åŸŸ,å³å—ä½œç”¨åŸŸ,ä¼šåœ¨å‡½æ•°å†…éƒ¨ã€ä»£ç å—ã€Œå³ {}ã€å†…éƒ¨åˆ›å»º 
    å—çº§ä½œç”¨åŸŸæ˜¯å¾ˆå¤šç±»Cè¯­è¨€çš„å·¥ä½œæœºåˆ¶, ES6å¼•å…¥å—çº§å£°æ˜çš„ç›®çš„æ˜¯å¢å¼ºJSçš„çµæ´»æ€§,
    åŒæ—¶åˆèƒ½ä¸å…¶å®ƒç¼–ç¨‹è¯­è¨€ä¿æŒä¸€è‡´.
  Global Block Bindings,å…¨å±€å—çº§ç»‘å®š
    å…¨å±€ä½œç”¨åŸŸä½¿ç”¨ var å£°æ˜å…¨å±€å˜é‡,ç›¸å½“äºç»™å…¨å±€å¯¹è±¡ã€Œæµè§ˆå™¨ç¯å¢ƒä¸‹æ˜¯ windowã€æ·»åŠ å±æ€§
      è¿™æ„å‘³ç€å…¨å±€å¯¹è±¡çš„å±æ€§å¯èƒ½ä¼šæ„å¤–åœ°è¢«é‡å†™è¦†ç›–
      var RegExp = "Hello!";
      console.log(window.RegExp);     // "Hello!"
    è‹¥åœ¨å…¨å±€ä½œç”¨åŸŸä½¿ç”¨ let æˆ– const,ç»‘å®šä¹Ÿå‘ç”Ÿåœ¨å…¨å±€ä½œç”¨åŸŸå†…,ä½†ä¸ä¼šå‘å…¨å±€å¯¹è±¡æ·»åŠ å±æ€§
      let RegExp = "Hello!";
      console.log(RegExp);           // "Hello!"
      console.log(window.RegExp);    // function RegExp() { [native code] }
  let   å®šä¹‰å—çº§å˜é‡ ã€ŒES6+ã€ 
    å—çº§ä½œç”¨åŸŸé™åˆ¶,åªåœ¨å®šä¹‰çš„å—çº§ä½œç”¨åŸŸä¸­å­˜åœ¨;
      PSï¼šä»»ä½•ä¸€å¯¹èŠ±æ‹¬å·{}ä¸­çš„è¯­å¥éƒ½å±äºä¸€ä¸ªå—,ç§°ä¹‹ä¸ºå—çº§ä½œç”¨åŸŸ;
      if (true) { 
        var aoo = 1; 
        let boo = 2;
      }
      console.log(aoo); // 1
      console.log(boo); // æŠ¥é”™,boo is not defined
    æ— å˜é‡æå‡
      var aoo = 1;
      var boo = 2;
      function foo(){
        console.log(aoo); // undefined,å˜é‡æå‡
        console.log(boo); // æŠ¥é”™
        var aoo = 3; 
        let boo = 4; 
      }
    é‡å¤å£°æ˜å˜é‡æŠ¥é”™
      var aoo = 1;
      var aoo = 2;
      let aoo = 3; // æŠ¥é”™,Identifier 'aoo' has already been declared
      let boo = 4;
      let boo = 5; // æŠ¥é”™,Identifier 'boo' has already been declared
    å‡½æ•°å†…é‡æ–°å£°æ˜å‡½æ•°çš„å‚æ•°æŠ¥é”™
      function foo(aoo){
        var aoo = 1;
        let aoo = 2;  //æŠ¥é”™,Identifier 'aoo' has already been declared
        console.log(aoo);
      }
    Let Declarations in Loops,å¾ªç¯ä¸­çš„ let å£°æ˜
      var arr =[];
      for(var i = 0; i < 10; i++) { arr.push(i); }
      console.log(arr); // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
      var funArr =[];
      for(var i = 0; i < 10; i++) {
        funArr.push(function(){console.log(i); });
      }
      console.log(funArr[0]); // function(){console.log(i); }
      // i æ˜¯ä»¥å¼•ç”¨çš„æ–¹å¼å­˜åœ¨å‡½æ•°ä¸­çš„
      console.log(funArr[0]()); // 10
      ä½¿ç”¨letçš„å£°æ˜æ–¹å¼
      var funArr =[];
      for(let i = 0; i < 10; i++) {
        funArr.push(function(){console.log(i); });
      }
      console.log(funArr[0]); // function(){console.log(i); }
      // i æ˜¯ä»¥å¼•ç”¨çš„æ–¹å¼å­˜åœ¨å‡½æ•°ä¸­çš„
      console.log(funArr[0]()); // 0
      æ³¨:let å£°æ˜åœ¨ä¸Šè¿°å¾ªç¯å†…éƒ¨ä¸­çš„è¡¨ç°æ˜¯åœ¨è§„èŒƒä¸­ç‰¹åˆ«å®šä¹‰çš„,
        å®é™…ä¸Š,æ—©æœŸ let çš„å®ç°å¹¶ä¸ä¼šè¡¨ç°ä¸­è¿™ç§æ•ˆæœ,æ˜¯åœ¨åæ¥è¢«æ·»åŠ åˆ°è§„èŒƒä¸­çš„.
  const å®šä¹‰å—çº§å¸¸é‡ ã€ŒES6+ã€ 
    PSï¼šåªèƒ½åœ¨å£°æ˜æ—¶èµ‹äºˆ;ä¸èƒ½è¢«åˆ é™¤;åªåœ¨å—çº§ä½œç”¨åŸŸç”Ÿæ•ˆ;æ— å˜é‡æå‡
    const aoo =2;
    aoo = 2;     // æŠ¥é”™ ,å¸¸é‡ä¸å¯æ”¹å˜
    delete aoo;  // æŠ¥é”™
    const boo;   // æŠ¥é”™ ,å®šä¹‰æ—¶å¿…é¡»èµ‹å€¼
    ä¸å¯ä¼ å€¼æ”¹å˜,åªèƒ½ä¼ å€æ”¹å˜;
      ä¼ å€¼èµ‹å€¼å’Œä¼ å€èµ‹å€¼
      ä¼ å€ï¼šèµ‹å€¼è¿‡ç¨‹ä¸­,å˜é‡å®å­˜å‚¨çš„æ˜¯æ•°æ®çš„åœ°å€ã€Œå¯¹æ•°æ®çš„å¼•ç”¨ã€,è€ŒéåŸå§‹æ•°æ®æˆ–è€…æ•°æ®çš„æ‹·è´
      const arr =[1,2,3];
      arr =[1];    // æŠ¥é”™
      arr.push(4); // å…è®¸
      arr[4] =5;   // å…è®¸
      arr;         // [1, 2, 3, 4, 5]
      const obj = {key1 : 1}
      obj.key1 = 2; // å…è®¸
      
      ä¸èƒ½é™åˆ¶å¯¹äºå€¼çš„ç±»å‹ä¸ºå¯¹è±¡çš„å˜é‡çš„ä¿®æ”¹,é˜»æ­¢çš„æ˜¯ç»‘å®šçš„ä¿®æ”¹,è€Œä¸æ˜¯ç»‘å®šå€¼çš„ä¿®æ”¹
      const person = { name: "Nicholas" };
      person.name = "Greg"; // æ­£å¸¸
      person = { name: "Greg" }; // æŠ›å‡ºé”™è¯¯
      person å˜é‡ä¸€å¼€å§‹å·²ç»å’ŒåŒ…å«ä¸€ä¸ªå±æ€§çš„å¯¹è±¡ç»‘å®š.
      ä¿®æ”¹ person.name æ˜¯è¢«å…è®¸çš„å› ä¸º person çš„å€¼(åœ°å€)æœªå‘ç”Ÿæ”¹å˜,
      ä½†æ˜¯å°è¯•ç»™ person èµ‹ä¸€ä¸ªæ–°å€¼(ä»£è¡¨é‡æ–°ç»‘å®šå˜é‡å’Œå€¼)çš„æ—¶å€™ä¼šæŠ¥é”™.
æ“ä½œç¬¦æ‰©å±•   
  Destructuring,è§£æ„èµ‹å€¼ 
    PSï¼šES6å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼,ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼,å¯¹å˜é‡è¿›è¡Œèµ‹å€¼,è¿™è¢«ç§°ä¸ºè§£æ„
    e.g.:
      ä¼ ç»Ÿçš„å˜é‡èµ‹å€¼
      var arr = [1,2,3];//æŠŠæ•°ç»„çš„å€¼åˆ†åˆ«èµ‹ç»™ä¸‹é¢çš„å˜é‡ï¼›
      var a = arr[0];
      var b = arr[1];
      var c = arr[2];
      console.log(a);// 1
      console.log(b);// 2
      console.log(c);// 3
      å˜é‡çš„è§£æ„èµ‹å€¼
      var [a,b,c] = [1,2,3]; //æŠŠæ•°ç»„çš„å€¼åˆ†åˆ«èµ‹ç»™ä¸‹é¢çš„å˜é‡ï¼›
      console.log(a);// 1
      console.log(b);// 2
      console.log(c);// 3
    ç»“æ„èµ‹å€¼å¯ä»¥åµŒå¥—
      var [ a,b,[ c1,c2 ] ] = [ 1,2,[ 3.1,3.2 ] ];
      console.log(c1); // 3.1
      console.log(c2); // 3.2
    ä¸å®Œå…¨è§£æ„
      var [a,b,c] = [1,2];
      console.log(a);//ç»“æœï¼šaçš„å€¼ä¸º1
      console.log(b);//ç»“æœï¼šbçš„å€¼ä¸º2
      èµ‹å€¼ä¸æˆåŠŸ,å˜é‡çš„å€¼ä¸ºundefined
      var [a,b,c] = [1,2];
      console.log(a);//ç»“æœï¼šaçš„å€¼ä¸º1
      console.log(b);//ç»“æœï¼šbçš„å€¼ä¸º2
      console.log(c);//ç»“æœï¼šcçš„å€¼ä¸ºundefined
    å…è®¸è®¾å®šé»˜è®¤å€¼
      var [a,b,c=3] = [1,2];
      console.log(a);//ç»“æœ:açš„å€¼ä¸º1
      console.log(b);//ç»“æœ:bçš„å€¼ä¸º2
      console.log(c);//ç»“æœ:cçš„å€¼ä¸º3
      è¦†ç›–é»˜è®¤å€¼ã€Œå½“æ–°çš„å€¼ä¸ºundefinedçš„æ—¶å€™,æ˜¯ä¸ä¼šè¦†ç›–é»˜è®¤å€¼çš„ã€
      var [a,b,c=3] =[1,2,4];
      console.log(a);//ç»“æœ:açš„å€¼ä¸º1
      console.log(b);//ç»“æœ:bçš„å€¼ä¸º2
      console.log(c);//ç»“æœ:cçš„å€¼ä¸º4
    å¯¹è±¡çš„è§£æ„èµ‹å€¼ï¼šå¯¹è±¡çš„è§£æ„èµ‹å€¼ä¸ä¼šå—åˆ°å±æ€§çš„æ’åˆ—æ¬¡åºå½±å“,æ˜¯è·Ÿå±æ€§åå…³è”èµ·æ¥çš„
      PSï¼šå˜é‡åè¦å’Œå±æ€§åä¸€è‡´,æ‰ä¼šæˆåŠŸèµ‹å€¼ã€‚
        å¦‚æœå˜é‡æ‰¾ä¸åˆ°ä¸å…¶åå­—ç›¸åŒçš„å±æ€§,å°±ä¼šèµ‹å€¼ä¸æˆåŠŸ
      e.g.:
        var { a,b,c} = {"a":1,"b":2,"c":3};
        console.log(a); // 1 
        console.log(b); // 2
        console.log(c); // 3
        æ”¹å˜é¡ºåº
        var { a,b,c } = {"a":1,"c":3,"b":2};
        console.log(a); // 1
        console.log(b); // 2
        console.log(c); // 3
        
        var { a } = {"b":2};
        console.log(a);//ç»“æœï¼šaçš„å€¼ä¸ºundefined
      ç»™ä¸€ä¸ªå˜é‡åä¸å±æ€§åä¸ä¸€æ ·çš„å˜é‡è§£æ„èµ‹å€¼
        var { b:a,} = {"b":2};
        console.log(a); // 2
    å¯¹è±¡è§£æ„èµ‹å€¼åµŒå¥—
      var {a:{b}} = {"a":{"b":1}};
      console.log(b);//ç»“æœï¼šbçš„å€¼ä¸º1
    å¯¹è±¡è§£æ„æŒ‡å®šé»˜è®¤å€¼
      var {a,b=2} = {"a":1};
      console.log(b);//ç»“æœï¼šbçš„å€¼ä¸ºé»˜è®¤å€¼2
    å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼
      PSï¼šè§£æ„èµ‹å€¼çš„è¿‡ç¨‹ä¸­,å­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
      var [a,b,c,d,e,f] = "123456";
      console.log(a); // 1
      console.log(b); // 2
      console.log(c); // 3
      console.log(d); // 4
      console.log(e); // 5
      console.log(f); // 6
    è§£æ„èµ‹å€¼çš„ç”¨é€”
      äº¤æ¢å˜é‡çš„å€¼
        ä¼ ç»Ÿåšæ³•
        var x = 1;
        var y = 2;
        var z = x;//ç¬¬ä¸‰ä¸ªå˜é‡ä¸´æ—¶å­˜æ”¾xçš„å€¼
        x = y;  //æŠŠyçš„å€¼èµ‹ç»™xï¼›
        y = z;  //æŠŠzçš„å€¼èµ‹å€¼ç»™yï¼›
        console.log(x); //ç»“æœï¼šxä¸º2
        console.log(y); //ç»“æœï¼šyä¸º1
        ä½¿ç”¨è§£æ„
        var x = 1;
        var y = 2;
        [x,y] = [y,x];
      å®šä¹‰å‡½æ•°å‚æ•°
        function foo({a,b,c}){ console.log(a,b,c); }
        foo({a:1,b:2,c:3,d:4}); // 1 2 3 
      å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼
        function demo({aoo=1}){ console.log(aoo); }
        demo({});
æ ‡å‡†åº“çš„æ‰©å±• 
  stringå­—ç¬¦ä¸²æ‰©å±•
    `a${1+2}b` æ¨¡ç‰ˆå­—ç¬¦ä¸²  [ES6+] 
      PSï¼šåˆç§°å¤šè¡Œå­—ç¬¦ä¸²,å¯ä»¥è·¨è¶Šå¤šè¡Œ,ä½¿ç”¨åå¼•å·å¼•èµ·æ¥,å¦‚ `å­—ç¬¦`
      e.g.
        var str =`a
          b
          c`;
        console.log(str);
        // "a
        //   b
        //   c"
      `${}` æ¨¡æ¿å ä½ç¬¦ 
        ${str1}è¡¨ç¤ºå˜é‡å­—ç¬¦ä¸²str1è¡¨ç¤ºçš„å­—ç¬¦
        ${}ä¸­å¯ä»¥æ”¾ä»»æ„çš„javascriptè¡¨è¾¾å¼
        var aoo="fan";
        var boo=`${aoo} hello!`; // æ­¤å¤„ä½¿ç”¨åå¼•å·(æ•°å­—1çš„å·¦è¾¹çš„æŒ‰é”®)å¼•èµ·æ¥
        var coo = `${1+2} hello`
        console.log(boo); // fan hello
        console.log(coo); // 3 hello
    str.repeat(num) å°†ç›®æ ‡å­—ç¬¦ä¸²é‡å¤Næ¬¡,è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€Œä¸å½±å“ç›®æ ‡å­—ç¬¦ä¸²ã€
      var aoo = "1";  //ç›®æ ‡å­—ç¬¦ä¸²
      var boo = aoo.repeat(3); //å˜é‡aooè¢«é‡å¤ä¸‰æ¬¡ï¼›
      console.log(aoo); // 1
      console.log(boo); // 111
    str1.includes(str2); è¿”å›æ˜¯å¦åŒ…å«str2çš„å¸ƒå°”å€¼  
      'good'.includes('o') // true
    str1.startsWith(str2[,num]) åˆ¤æ–­str2æ˜¯å¦ä¸ºstr1æŒ‡å®šçš„å¼€å¤´ä½ç½®,
      numå¯é€‰,é»˜è®¤ä¸º0,è¡¨ç¤ºæŒ‡å®šçš„å¼€å¤´
      var aoo = "123";      //ç›®æ ‡å­—ç¬¦ä¸²
      aoo.startsWith('1');  //true,å‡ºç°åœ¨å¼€å¤´ä½ç½®
      aoo.startsWith('2');  //false,ä¸æ˜¯åœ¨å¼€å¤´ä½ç½®
      aoo.startsWith('2',1); //true,ä»ç¬¬2ä¸ªå­—ç¬¦å¼€å§‹
    str1.endsWith(str2[,num])   åˆ¤æ–­str2æ˜¯å¦å‡ºç°åœ¨str1æŒ‡å®šé•¿åº¦çš„å°¾éƒ¨ä½ç½®
      numå¯é€‰,é»˜è®¤ä¸ºstr1çš„é•¿åº¦
      var name = "123456";    //ç›®æ ‡å­—ç¬¦ä¸²
      name.endsWith('1');   //false,ä¸åœ¨å°¾éƒ¨ä½ç½®
      name.endsWith('6');   //true,åœ¨å°¾éƒ¨ä½ç½®
      name.endsWith('6',5); //false,åªé’ˆå¯¹å‰5ä¸ªå­—ç¬¦
      name.endsWith('5',5); //true,é’ˆå¯¹å‰6ä¸ªå­—ç¬¦
    str.codePointAt()  è¿”å›4å­—èŠ‚å­—ç¬¦å¯¹åº”çš„åè¿›åˆ¶æ•°
      PSï¼šJS ä¸­,ä¸€ä¸ªå­—ç¬¦å›ºå®šä¸º2ä¸ªå­—èŠ‚,
        å¯¹äºé‚£äº›éœ€è¦4ä¸ªå­—èŠ‚å­˜å‚¨çš„å­—ç¬¦,JS ä¼šè®¤ä¸ºå®ƒæ˜¯ä¸¤ä¸ªå­—ç¬¦,æ­¤æ—¶å®ƒçš„å­—ç¬¦é•¿åº¦lengthä¸º2ã€‚
        å¦‚å­—ç¬¦ï¼š"ğ ®·",å°±æ˜¯ä¸€ä¸ªéœ€è¦4ä¸ªå­—èŠ‚å­˜å‚¨,lengthä¸º2çš„å­—ç¬¦ã€‚
        å¯¹äº4å­—èŠ‚çš„å­—ç¬¦,JSæ— æ³•æ­£ç¡®è¯»å–å­—ç¬¦
      e.g.:
        var str1 = "å‰ç«¯";
        var str2 = "ğ ®·";
        str1.length; //lengthä¸º2
        str2.length; //lengthä¸º2
        str1.charAt(0);  //å‰
        str1.charAt(1);  //ç«¯
        str2.charAt(0);  //'ï¿½'
        str2.charAt(1);  //'ï¿½'
        å­—ç¬¦"ğ ®·"æ˜¯ä¸€ä¸ª4å­—èŠ‚çš„å­—ç¬¦,charAtæ–¹æ³•èƒ½æ­£ç¡®è¯»å–å­—ç¬¦ä¸²str1çš„å­—ç¬¦,
        ä½†æ— æ³•æ­£ç¡®è¯»å–4ä¸ªå­—èŠ‚çš„å­—ç¬¦,æ­¤æ—¶è¿”å›ç»“æœå‡ºç°äº†ä¹±ç ã€‚
        ä½¿ç”¨ES6ç»™æˆ‘ä»¬æä¾›çš„ codePointAtæ–¹æ³•,å°±å¯ä»¥å¤„ç†è¿™ç§4ä¸ªå­—èŠ‚çš„å­—ç¬¦äº†
        var str = "ğ ®·";
        str.codePointAt();  //ç»“æœ:134071
        è¿”å›å…¶ç ç‚¹çš„åè¿›åˆ¶æ•°ï¼š134071,æ¢æˆ16è¿›åˆ¶å°±æ˜¯20bb7,å¯¹åº”çš„Unicodeç¼–ç åˆ™æ˜¯\u20bb7
    String.fromCodePoint(num)  å‡½æ•°çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦å¯¹åº”çš„ç ç‚¹,è¿”å›çš„ç»“æœå°±æ˜¯å¯¹åº”çš„å­—ç¬¦
      PSï¼šå³ä½¿4å­—èŠ‚çš„å­—ç¬¦,ä¹Ÿèƒ½æ­£ç¡®å®ç°
      String.fromCodePoint(134071); //ç»“æœï¼š"ğ ®·"
    String.raw()  è¿”å›å­—ç¬¦ä¸²æœ€åŸå§‹çš„æ ·è²Œ,å³ä½¿å­—ç¬¦ä¸²ä¸­å«æœ‰è½¬ä¹‰ç¬¦ 
      console.log(`hello\tworld`); // hello	world
      \tä¼šè¢«è¯†åˆ«ä¸ºåˆ¶è¡¨ç¬¦,å®ç°ç©ºæ ¼æ•ˆæœ
      console.log(String.raw`hello\twolrd`); //è¾“å‡ºï¼šhello\twolrd
  RegExpæ­£åˆ™çš„æ‰©å±•
    RegExpæ„é€ å‡½æ•°
      åœ¨ES5ä¸­,RegExpæ„é€ å‡½æ•°çš„å‚æ•°æœ‰ä¸¤ç§æƒ…å†µã€‚
      ç¬¬ä¸€ç§æƒ…å†µæ˜¯,å‚æ•°æ˜¯å­—ç¬¦ä¸²,è¿™æ—¶ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦(flag)ã€‚
      var regex = new RegExp('xyz', 'i');
      // ç­‰ä»·äº
      var regex = /xyz/i;
      ç¬¬äºŒç§æƒ…å†µæ˜¯,å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨ç¤ºå¼,è¿™æ—¶ä¼šè¿”å›ä¸€ä¸ªåŸæœ‰æ­£åˆ™è¡¨è¾¾å¼çš„æ‹·è´ã€‚
      var regex = new RegExp(/xyz/i);
      // ç­‰ä»·äº
      var regex = /xyz/i;
      ä½†æ˜¯,ES5ä¸å…è®¸æ­¤æ—¶ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°,æ·»åŠ ä¿®é¥°ç¬¦,å¦åˆ™ä¼šæŠ¥é”™ã€‚
      var regex = new RegExp(/xyz/, 'i');
      // Uncaught TypeError: Cannot supply flags when constructing one RegExp from another
      ES6æ”¹å˜äº†è¿™ç§è¡Œä¸ºã€‚å¦‚æœRegExpæ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™å¯¹è±¡,
      é‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šä¿®é¥°ç¬¦ã€‚
      è€Œä¸”,è¿”å›çš„æ­£åˆ™è¡¨è¾¾å¼ä¼šå¿½ç•¥åŸæœ‰çš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦,åªä½¿ç”¨æ–°æŒ‡å®šçš„ä¿®é¥°ç¬¦ã€‚
      new RegExp(/abc/ig, 'i').flags // "i"
      ä¸Šé¢ä»£ç ä¸­,åŸæœ‰æ­£åˆ™å¯¹è±¡çš„ä¿®é¥°ç¬¦æ˜¯ig,å®ƒä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°iè¦†ç›–ã€‚
    å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•
      å­—ç¬¦ä¸²å¯¹è±¡å…±æœ‰4ä¸ªæ–¹æ³•,å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šmatch()ã€replace()ã€search()å’Œsplit()ã€‚
      ES6å°†è¿™4ä¸ªæ–¹æ³•,åœ¨è¯­è¨€å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹æ–¹æ³•,
      ä»è€Œåšåˆ°æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³çš„æ–¹æ³•,å…¨éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Šã€‚
      String.prototype.match è°ƒç”¨ RegExp.prototype[Symbol.match]
      String.prototype.replace è°ƒç”¨ RegExp.prototype[Symbol.replace]
      String.prototype.search è°ƒç”¨ RegExp.prototype[Symbol.search]
      String.prototype.split è°ƒç”¨ RegExp.prototype[Symbol.split]
    uä¿®é¥°ç¬¦
      ES6å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦,å«ä¹‰ä¸ºâ€œUnicodeæ¨¡å¼â€,
      ç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº\uFFFFçš„Unicodeå­—ç¬¦ã€‚
      ä¹Ÿå°±æ˜¯è¯´,ä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„UTF-16 ç¼–ç ã€‚
      /^\uD83D/u.test('\uD83D\uDC2A')
      // false
      /^\uD83D/.test('\uD83D\uDC2A')
      // true
      ä¸Šé¢ä»£ç ä¸­,\uD83D\uDC2Aæ˜¯ä¸€ä¸ªå››ä¸ªå­—èŠ‚çš„UTF-16 ç¼–ç ,ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚
      ES5ä¸æ”¯æŒå››ä¸ªå­—èŠ‚çš„UTF-16 ç¼–ç ,ä¼šå°†å…¶è¯†åˆ«ä¸ºä¸¤ä¸ªå­—ç¬¦,å¯¼è‡´ç¬¬äºŒè¡Œä»£ç ç»“æœä¸ºtrueã€‚
      åŠ äº†uä¿®é¥°ç¬¦ä»¥å,ES6å°±ä¼šè¯†åˆ«å…¶ä¸ºä¸€ä¸ªå­—ç¬¦,æ‰€ä»¥ç¬¬ä¸€è¡Œä»£ç ç»“æœä¸ºfalseã€‚
      ä¸€æ—¦åŠ ä¸Šuä¿®é¥°ç¬¦å·,å°±ä¼šä¿®æ”¹ä¸‹é¢è¿™äº›æ­£åˆ™è¡¨è¾¾å¼çš„è¡Œä¸ºã€‚
      (1)ç‚¹å­—ç¬¦
        ç‚¹(.)å­—ç¬¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­,å«ä¹‰æ˜¯é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å•ä¸ªå­—ç¬¦ã€‚
        å¯¹äºç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦,ç‚¹å­—ç¬¦ä¸èƒ½è¯†åˆ«,å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚
        var s = 'ğ ®·';
        /^.$/.test(s) // false
        /^.$/u.test(s) // true
        ä¸Šé¢ä»£ç è¡¨ç¤º,å¦‚æœä¸æ·»åŠ uä¿®é¥°ç¬¦,æ­£åˆ™è¡¨è¾¾å¼å°±ä¼šè®¤ä¸ºå­—ç¬¦ä¸²ä¸ºä¸¤ä¸ªå­—ç¬¦,ä»è€ŒåŒ¹é…å¤±è´¥ã€‚
      (2)Unicodeå­—ç¬¦è¡¨ç¤ºæ³•
        ES6æ–°å¢äº†ä½¿ç”¨å¤§æ‹¬å·è¡¨ç¤ºUnicodeå­—ç¬¦,è¿™ç§è¡¨ç¤ºæ³•åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å¿…é¡»åŠ ä¸Šuä¿®é¥°ç¬¦,æ‰èƒ½è¯†åˆ«ã€‚
        /\u{61}/.test('a') // false
        /\u{61}/u.test('a') // true
        /\u{20BB7}/u.test('ğ ®·') // true
        ä¸Šé¢ä»£ç è¡¨ç¤º,å¦‚æœä¸åŠ uä¿®é¥°ç¬¦,æ­£åˆ™è¡¨è¾¾å¼æ— æ³•è¯†åˆ«\u{61}è¿™ç§è¡¨ç¤ºæ³•,åªä¼šè®¤ä¸ºè¿™åŒ¹é…61ä¸ªè¿ç»­çš„uã€‚
      (3)é‡è¯
        ä½¿ç”¨uä¿®é¥°ç¬¦å,æ‰€æœ‰é‡è¯éƒ½ä¼šæ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ã€‚

        /a{2}/.test('aa') // true
        /a{2}/u.test('aa') // true
        /ğ ®·{2}/.test('ğ ®·ğ ®·') // false
        /ğ ®·{2}/u.test('ğ ®·ğ ®·') // true
        å¦å¤–,åªæœ‰åœ¨ä½¿ç”¨uä¿®é¥°ç¬¦çš„æƒ…å†µä¸‹,Unicodeè¡¨è¾¾å¼å½“ä¸­çš„å¤§æ‹¬å·æ‰ä¼šè¢«æ­£ç¡®è§£è¯»,å¦åˆ™ä¼šè¢«è§£è¯»ä¸ºé‡è¯ã€‚

        /^\u{3}$/.test('uuu') // true
        ä¸Šé¢ä»£ç ä¸­,ç”±äºæ­£åˆ™è¡¨è¾¾å¼æ²¡æœ‰uä¿®é¥°ç¬¦,æ‰€ä»¥å¤§æ‹¬å·è¢«è§£è¯»ä¸ºé‡è¯ã€‚åŠ ä¸Šuä¿®é¥°ç¬¦,å°±ä¼šè¢«è§£è¯»ä¸ºUnicodeè¡¨è¾¾å¼ã€‚
      (4)é¢„å®šä¹‰æ¨¡å¼
        uä¿®é¥°ç¬¦ä¹Ÿå½±å“åˆ°é¢„å®šä¹‰æ¨¡å¼,èƒ½å¦æ­£ç¡®è¯†åˆ«ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ã€‚

        /^\S$/.test('ğ ®·') // false
        /^\S$/u.test('ğ ®·') // true
        ä¸Šé¢ä»£ç çš„\Sæ˜¯é¢„å®šä¹‰æ¨¡å¼,åŒ¹é…æ‰€æœ‰ä¸æ˜¯ç©ºæ ¼çš„å­—ç¬¦ã€‚åªæœ‰åŠ äº†uä¿®é¥°ç¬¦,å®ƒæ‰èƒ½æ­£ç¡®åŒ¹é…ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ã€‚

        åˆ©ç”¨è¿™ä¸€ç‚¹,å¯ä»¥å†™å‡ºä¸€ä¸ªæ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ã€‚

        function codePointLength(text) {
          var result = text.match(/[\s\S]/gu);
          return result ? result.length : 0;
        }
        var s = 'ğ ®·ğ ®·';
        s.length // 4
        codePointLength(s) // 2
      (5)iä¿®é¥°ç¬¦

        æœ‰äº›Unicodeå­—ç¬¦çš„ç¼–ç ä¸åŒ,ä½†æ˜¯å­—å‹å¾ˆç›¸è¿‘,æ¯”å¦‚,\u004Bä¸\u212Aéƒ½æ˜¯å¤§å†™çš„Kã€‚

        /[a-z]/i.test('\u212A') // false
        /[a-z]/iu.test('\u212A') // true
        ä¸Šé¢ä»£ç ä¸­,ä¸åŠ uä¿®é¥°ç¬¦,å°±æ— æ³•è¯†åˆ«éè§„èŒƒçš„Kå­—ç¬¦ã€‚
    y ä¿®é¥°ç¬¦
      é™¤äº†uä¿®é¥°ç¬¦,ES6è¿˜ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†yä¿®é¥°ç¬¦,å«åšâ€œç²˜è¿â€(sticky)ä¿®é¥°ç¬¦ã€‚
      yä¿®é¥°ç¬¦çš„ä½œç”¨ä¸gä¿®é¥°ç¬¦ç±»ä¼¼,ä¹Ÿæ˜¯å…¨å±€åŒ¹é…,åä¸€æ¬¡åŒ¹é…éƒ½ä»ä¸Šä¸€æ¬¡åŒ¹é…æˆåŠŸçš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹ã€‚ä¸åŒä¹‹å¤„åœ¨äº,gä¿®é¥°ç¬¦åªè¦å‰©ä½™ä½ç½®ä¸­å­˜åœ¨åŒ¹é…å°±å¯,è€Œyä¿®é¥°ç¬¦ç¡®ä¿åŒ¹é…å¿…é¡»ä»å‰©ä½™çš„ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹,è¿™ä¹Ÿå°±æ˜¯â€œç²˜è¿â€çš„æ¶µä¹‰ã€‚
      var s = 'aaa_aa_a';
      var r1 = /a+/g;
      var r2 = /a+/y;

      r1.exec(s) // ["aaa"]
      r2.exec(s) // ["aaa"]

      r1.exec(s) // ["aa"]
      r2.exec(s) // null
      ä¸Šé¢ä»£ç æœ‰ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼,ä¸€ä¸ªä½¿ç”¨gä¿®é¥°ç¬¦,å¦ä¸€ä¸ªä½¿ç”¨yä¿®é¥°ç¬¦ã€‚è¿™ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼å„æ‰§è¡Œäº†ä¸¤æ¬¡,ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™,ä¸¤è€…è¡Œä¸ºç›¸åŒ,å‰©ä½™å­—ç¬¦ä¸²éƒ½æ˜¯_aa_aã€‚ç”±äºgä¿®é¥°æ²¡æœ‰ä½ç½®è¦æ±‚,æ‰€ä»¥ç¬¬äºŒæ¬¡æ‰§è¡Œä¼šè¿”å›ç»“æœ,è€Œyä¿®é¥°ç¬¦è¦æ±‚åŒ¹é…å¿…é¡»ä»å¤´éƒ¨å¼€å§‹,æ‰€ä»¥è¿”å›nullã€‚
      å¦‚æœæ”¹ä¸€ä¸‹æ­£åˆ™è¡¨è¾¾å¼,ä¿è¯æ¯æ¬¡éƒ½èƒ½å¤´éƒ¨åŒ¹é…,yä¿®é¥°ç¬¦å°±ä¼šè¿”å›ç»“æœäº†ã€‚
      var s = 'aaa_aa_a';
      var r = /a+_/y;

      r.exec(s) // ["aaa_"]
      r.exec(s) // ["aa_"]
      ä¸Šé¢ä»£ç æ¯æ¬¡åŒ¹é…,éƒ½æ˜¯ä»å‰©ä½™å­—ç¬¦ä¸²çš„å¤´éƒ¨å¼€å§‹ã€‚
      ä½¿ç”¨lastIndexå±æ€§,å¯ä»¥æ›´å¥½åœ°è¯´æ˜yä¿®é¥°ç¬¦ã€‚

      const REGEX = /a/g;

      // æŒ‡å®šä»2å·ä½ç½®(y)å¼€å§‹åŒ¹é…
      REGEX.lastIndex = 2;

      // åŒ¹é…æˆåŠŸ
      const match = REGEX.exec('xaya');

      // åœ¨3å·ä½ç½®åŒ¹é…æˆåŠŸ
      match.index // 3

      // ä¸‹ä¸€æ¬¡åŒ¹é…ä»4å·ä½å¼€å§‹
      REGEX.lastIndex // 4

      // 4å·ä½å¼€å§‹åŒ¹é…å¤±è´¥
      REGEX.exec('xaxa') // null
      ä¸Šé¢ä»£ç ä¸­,lastIndexå±æ€§æŒ‡å®šæ¯æ¬¡æœç´¢çš„å¼€å§‹ä½ç½®,gä¿®é¥°ç¬¦ä»è¿™ä¸ªä½ç½®å¼€å§‹å‘åæœç´¢,ç›´åˆ°å‘ç°åŒ¹é…ä¸ºæ­¢ã€‚

      yä¿®é¥°ç¬¦åŒæ ·éµå®ˆlastIndexå±æ€§,ä½†æ˜¯è¦æ±‚å¿…é¡»åœ¨lastIndexæŒ‡å®šçš„ä½ç½®å‘ç°åŒ¹é…ã€‚

      const REGEX = /a/y;

      // æŒ‡å®šä»2å·ä½ç½®å¼€å§‹åŒ¹é…
      REGEX.lastIndex = 2;

      // ä¸æ˜¯ç²˜è¿,åŒ¹é…å¤±è´¥
      REGEX.exec('xaya') // null

      // æŒ‡å®šä»3å·ä½ç½®å¼€å§‹åŒ¹é…
      REGEX.lastIndex = 3;

      // 3å·ä½ç½®æ˜¯ç²˜è¿,åŒ¹é…æˆåŠŸ
      const match = REGEX.exec('xaxa');
      match.index // 3
      REGEX.lastIndex // 4
      è¿›ä¸€æ­¥è¯´,yä¿®é¥°ç¬¦å·éšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ã€‚

      /b/y.exec('aba')
      // null
      ä¸Šé¢ä»£ç ç”±äºä¸èƒ½ä¿è¯å¤´éƒ¨åŒ¹é…,æ‰€ä»¥è¿”å›nullã€‚yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„,å°±æ˜¯è®©å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^åœ¨å…¨å±€åŒ¹é…ä¸­éƒ½æœ‰æ•ˆã€‚

      åœ¨splitæ–¹æ³•ä¸­ä½¿ç”¨yä¿®é¥°ç¬¦,åŸå­—ç¬¦ä¸²å¿…é¡»ä»¥åˆ†éš”ç¬¦å¼€å¤´ã€‚è¿™ä¹Ÿæ„å‘³ç€,åªè¦åŒ¹é…æˆåŠŸ,æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜è‚¯å®šæ˜¯ç©ºå­—ç¬¦ä¸²ã€‚

      // æ²¡æœ‰æ‰¾åˆ°åŒ¹é…
      'x##'.split(/#/y)
      // [ 'x##' ]

      // æ‰¾åˆ°ä¸¤ä¸ªåŒ¹é…
      '##x'.split(/#/y)
      // [ '', '', 'x' ]
      åç»­çš„åˆ†éš”ç¬¦åªæœ‰ç´§è·Ÿå‰é¢çš„åˆ†éš”ç¬¦,æ‰ä¼šè¢«è¯†åˆ«ã€‚

      '#x#'.split(/#/y)
      // [ '', 'x#' ]

      '##'.split(/#/y)
      // [ '', '', '' ]
      ä¸‹é¢æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„replaceæ–¹æ³•çš„ä¾‹å­ã€‚

      const REGEX = /a/gy;
      'aaxa'.replace(REGEX, '-') // '--xa'
      ä¸Šé¢ä»£ç ä¸­,æœ€åä¸€ä¸ªaå› ä¸ºä¸æ˜¯å‡ºç°ä¸‹ä¸€æ¬¡åŒ¹é…çš„å¤´éƒ¨,æ‰€ä»¥ä¸ä¼šè¢«æ›¿æ¢ã€‚

      å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹matchæ–¹æ³•,åªèƒ½è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…,å¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨,æ‰èƒ½è¿”å›æ‰€æœ‰åŒ¹é…ã€‚

      'a1a2a3'.match(/a\d/y) // ["a1"]
      'a1a2a3'.match(/a\d/gy) // ["a1", "a2", "a3"]
      yä¿®é¥°ç¬¦çš„ä¸€ä¸ªåº”ç”¨,æ˜¯ä»å­—ç¬¦ä¸²æå–token(è¯å…ƒ),yä¿®é¥°ç¬¦ç¡®ä¿äº†åŒ¹é…ä¹‹é—´ä¸ä¼šæœ‰æ¼æ‰çš„å­—ç¬¦ã€‚

      const TOKEN_Y = /\s*(\+|[0-9]+)\s*/y;
      const TOKEN_G  = /\s*(\+|[0-9]+)\s*/g;

      tokenize(TOKEN_Y, '3 + 4')
      // [ '3', '+', '4' ]
      tokenize(TOKEN_G, '3 + 4')
      // [ '3', '+', '4' ]

      function tokenize(TOKEN_REGEX, str) {
        let result = [];
        let match;
        while (match = TOKEN_REGEX.exec(str)) {
          result.push(match[1]);
        }
        return result;
      }
      ä¸Šé¢ä»£ç ä¸­,å¦‚æœå­—ç¬¦ä¸²é‡Œé¢æ²¡æœ‰éæ³•å­—ç¬¦,yä¿®é¥°ç¬¦ä¸gä¿®é¥°ç¬¦çš„æå–ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯,ä¸€æ—¦å‡ºç°éæ³•å­—ç¬¦,ä¸¤è€…çš„è¡Œä¸ºå°±ä¸ä¸€æ ·äº†ã€‚

      tokenize(TOKEN_Y, '3x + 4')
      // [ '3' ]
      tokenize(TOKEN_G, '3x + 4')
      // [ '3', '+', '4' ]
      ä¸Šé¢ä»£ç ä¸­,gä¿®é¥°ç¬¦ä¼šå¿½ç•¥éæ³•å­—ç¬¦,è€Œyä¿®é¥°ç¬¦ä¸ä¼š,è¿™æ ·å°±å¾ˆå®¹æ˜“å‘ç°é”™è¯¯ã€‚

      stickyå±æ€§
      ä¸yä¿®é¥°ç¬¦ç›¸åŒ¹é…,ES6çš„æ­£åˆ™å¯¹è±¡å¤šäº†stickyå±æ€§,è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚

      var r = /hello\d/y;
      r.sticky // true
      flagså±æ€§
      ES6ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†flagså±æ€§,ä¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ã€‚

      // ES5çš„sourceå±æ€§
      // è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„æ­£æ–‡
      /abc/ig.source
      // "abc"

      // ES6çš„flagså±æ€§
      // è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦
      /abc/ig.flags
      // 'gi'
      RegExp.escape()
      å­—ç¬¦ä¸²å¿…é¡»è½¬ä¹‰,æ‰èƒ½ä½œä¸ºæ­£åˆ™æ¨¡å¼ã€‚

      function escapeRegExp(str) {
        return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
      }

      let str = '/path/to/resource.html?search=query';
      escapeRegExp(str)
      // "\/path\/to\/resource\.html\?search=query"
      ä¸Šé¢ä»£ç ä¸­,stræ˜¯ä¸€ä¸ªæ­£å¸¸å­—ç¬¦ä¸²,å¿…é¡»ä½¿ç”¨åæ–œæ å¯¹å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰,æ‰èƒ½ç”¨æ¥ä½œä¸ºä¸€ä¸ªæ­£åˆ™åŒ¹é…çš„æ¨¡å¼ã€‚

      å·²ç»æœ‰æè®®å°†è¿™ä¸ªéœ€æ±‚æ ‡å‡†åŒ–,ä½œä¸ºRegExpå¯¹è±¡çš„é™æ€æ–¹æ³•RegExp.escape(),æ”¾å…¥ES7ã€‚2015å¹´7æœˆ31æ—¥,TC39è®¤ä¸º,è¿™ä¸ªæ–¹æ³•æœ‰å®‰å…¨é£é™©,åˆä¸æ„¿è¿™ä¸ªæ–¹æ³•å˜å¾—è¿‡äºå¤æ‚,æ²¡æœ‰åŒæ„å°†å…¶åˆ—å…¥ES7,ä½†è¿™ä¸å¤±ä¸ºä¸€ä¸ªçœŸå®çš„éœ€æ±‚ã€‚

      RegExp.escape('The Quick Brown Fox');
      // "The Quick Brown Fox"

      RegExp.escape('Buy it. use it. break it. fix it.');
      // "Buy it\. use it\. break it\. fix it\."

      RegExp.escape('(*.*)');
      // "\(\*\.\*\)"
      å­—ç¬¦ä¸²è½¬ä¹‰ä»¥å,å¯ä»¥ä½¿ç”¨RegExpæ„é€ å‡½æ•°ç”Ÿæˆæ­£åˆ™æ¨¡å¼ã€‚

      var str = 'hello. how are you?';
      var regex = new RegExp(RegExp.escape(str), 'g');
      assert.equal(String(regex), '/hello\. how are you\?/g');
      ç›®å‰,è¯¥æ–¹æ³•å¯ä»¥ç”¨ä¸Šæ–‡çš„escapeRegExpå‡½æ•°æˆ–è€…å«ç‰‡æ¨¡å—regexp.escapeå®ç°ã€‚

      var escape = require('regexp.escape');
      escape('hi. how are you?');
      // "hi\\. how are you\\?"
    s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼
      æ­£åˆ™è¡¨è¾¾å¼ä¸­,ç‚¹(.)æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦,ä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦,ä½†æ˜¯è¡Œç»ˆæ­¢ç¬¦(line terminator character)é™¤å¤–ã€‚

      ä»¥ä¸‹å››ä¸ªå­—ç¬¦å±äºâ€è¡Œç»ˆæ­¢ç¬¦â€œã€‚

      U+000A æ¢è¡Œç¬¦(\n)
      U+000D å›è½¦ç¬¦(\r)
      U+2028 è¡Œåˆ†éš”ç¬¦(line separator)
      U+2029 æ®µåˆ†éš”ç¬¦(paragraph separator)
      /foo.bar/.test('foo\nbar')
      // false
      ä¸Šé¢ä»£ç ä¸­,å› ä¸º.ä¸åŒ¹é…\n,æ‰€ä»¥æ­£åˆ™è¡¨è¾¾å¼è¿”å›falseã€‚

      ä½†æ˜¯,å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¸Œæœ›åŒ¹é…çš„æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦,è¿™æ—¶æœ‰ä¸€ç§å˜é€šçš„å†™æ³•ã€‚

      /foo[^]bar/.test('foo\nbar')
      // true
      è¿™ç§è§£å†³æ–¹æ¡ˆæ¯•ç«Ÿä¸å¤ªç¬¦åˆç›´è§‰,æ‰€ä»¥ç°åœ¨æœ‰ä¸€ä¸ªææ¡ˆ,å¼•å…¥/sä¿®é¥°ç¬¦,ä½¿å¾—.å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ã€‚

      /foo.bar/s.test('foo\nbar') // true
      è¿™è¢«ç§°ä¸ºdotAllæ¨¡å¼,å³ç‚¹(dot)ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚æ‰€ä»¥,æ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§,è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,è¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ã€‚

      const re = /foo.bar/s;
      // å¦ä¸€ç§å†™æ³•
      // const re = new RegExp('foo.bar', 's');

      re.test('foo\nbar') // true
      re.dotAll // true
      re.flags // 's'
      /sä¿®é¥°ç¬¦å’Œå¤šè¡Œä¿®é¥°ç¬¦/mä¸å†²çª,ä¸¤è€…ä¸€èµ·ä½¿ç”¨çš„æƒ…å†µä¸‹,.åŒ¹é…æ‰€æœ‰å­—ç¬¦,è€Œ^å’Œ$åŒ¹é…æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾ã€‚
    åè¡Œæ–­è¨€
      JavaScript è¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼,åªæ”¯æŒå…ˆè¡Œæ–­è¨€(lookahead)å’Œå…ˆè¡Œå¦å®šæ–­è¨€(negative lookahead),ä¸æ”¯æŒåè¡Œæ–­è¨€(lookbehind)å’Œåè¡Œå¦å®šæ–­è¨€(negative lookbehind)ã€‚

      ç›®å‰,æœ‰ä¸€ä¸ªææ¡ˆ,å¼•å…¥åè¡Œæ–­è¨€ã€‚V8 å¼•æ“4.9ç‰ˆå·²ç»æ”¯æŒ,Chrome æµè§ˆå™¨49ç‰ˆæ‰“å¼€â€experimental JavaScript featuresâ€œå¼€å…³(åœ°å€æ é”®å…¥about:flags),å°±å¯ä»¥ä½¿ç”¨è¿™é¡¹åŠŸèƒ½ã€‚

      â€å…ˆè¡Œæ–­è¨€â€œæŒ‡çš„æ˜¯,xåªæœ‰åœ¨yå‰é¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ/x(?=y)/ã€‚æ¯”å¦‚,åªåŒ¹é…ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—,è¦å†™æˆ/\d+(?=%)/ã€‚â€å…ˆè¡Œå¦å®šæ–­è¨€â€œæŒ‡çš„æ˜¯,xåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ/x(?!y)/ã€‚æ¯”å¦‚,åªåŒ¹é…ä¸åœ¨ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—,è¦å†™æˆ/\d+(?!%)/ã€‚

      /\d+(?=%)/.exec('100% of US presidents have been male')  // ["100"]
      /\d+(?!%)/.exec('thatâ€™s all 44 of them')                 // ["44"]
      ä¸Šé¢ä¸¤ä¸ªå­—ç¬¦ä¸²,å¦‚æœäº’æ¢æ­£åˆ™è¡¨è¾¾å¼,å°±ä¼šåŒ¹é…å¤±è´¥ã€‚å¦å¤–,è¿˜å¯ä»¥çœ‹åˆ°,â€å…ˆè¡Œæ–­è¨€â€œæ‹¬å·ä¹‹ä¸­çš„éƒ¨åˆ†((?=%)),æ˜¯ä¸è®¡å…¥è¿”å›ç»“æœçš„ã€‚

      â€œåè¡Œæ–­è¨€â€æ­£å¥½ä¸â€œå…ˆè¡Œæ–­è¨€â€ç›¸å,xåªæœ‰åœ¨yåé¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ/(?<=y)x/ã€‚æ¯”å¦‚,åªåŒ¹é…ç¾å…ƒç¬¦å·ä¹‹åçš„æ•°å­—,è¦å†™æˆ/(?<=\$)\d+/ã€‚â€åè¡Œå¦å®šæ–­è¨€â€œåˆ™ä¸â€å…ˆè¡Œå¦å®šæ–­è¨€â€œç›¸å,xåªæœ‰ä¸åœ¨yåé¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ/(?<!y)x/ã€‚æ¯”å¦‚,åªåŒ¹é…ä¸åœ¨ç¾å…ƒç¬¦å·åé¢çš„æ•°å­—,è¦å†™æˆ/(?<!\$)\d+/ã€‚

      /(?<=\$)\d+/.exec('Benjamin Franklin is on the $100 bill')  // ["100"]
      /(?<!\$)\d+/.exec('itâ€™s is worth about â‚¬90')                // ["90"]
      ä¸Šé¢çš„ä¾‹å­ä¸­,â€œåè¡Œæ–­è¨€â€çš„æ‹¬å·ä¹‹ä¸­çš„éƒ¨åˆ†((?<=\$)),ä¹Ÿæ˜¯ä¸è®¡å…¥è¿”å›ç»“æœã€‚

      â€œåè¡Œæ–­è¨€â€çš„å®ç°,éœ€è¦å…ˆåŒ¹é…/(?<=y)x/çš„x,ç„¶åå†å›åˆ°å·¦è¾¹,åŒ¹é…yçš„éƒ¨åˆ†ã€‚è¿™ç§â€œå…ˆå³åå·¦â€çš„æ‰§è¡Œé¡ºåº,ä¸æ‰€æœ‰å…¶ä»–æ­£åˆ™æ“ä½œç›¸å,å¯¼è‡´äº†ä¸€äº›ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºã€‚

      é¦–å…ˆ,â€åè¡Œæ–­è¨€â€œçš„ç»„åŒ¹é…,ä¸æ­£å¸¸æƒ…å†µä¸‹ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚

      /(?<=(\d+)(\d+))$/.exec('1053') // ["", "1", "053"]
      /^(\d+)(\d+)$/.exec('1053') // ["1053", "105", "3"]
      ä¸Šé¢ä»£ç ä¸­,éœ€è¦æ•æ‰ä¸¤ä¸ªç»„åŒ¹é…ã€‚æ²¡æœ‰"åè¡Œæ–­è¨€"æ—¶,ç¬¬ä¸€ä¸ªæ‹¬å·æ˜¯è´ªå©ªæ¨¡å¼,ç¬¬äºŒä¸ªæ‹¬å·åªèƒ½æ•è·ä¸€ä¸ªå­—ç¬¦,æ‰€ä»¥ç»“æœæ˜¯105å’Œ3ã€‚è€Œ"åè¡Œæ–­è¨€"æ—¶,ç”±äºæ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦,ç¬¬äºŒä¸ªæ‹¬å·æ˜¯è´ªå©ªæ¨¡å¼,ç¬¬ä¸€ä¸ªæ‹¬å·åªèƒ½æ•è·ä¸€ä¸ªå­—ç¬¦,æ‰€ä»¥ç»“æœæ˜¯1å’Œ053ã€‚

      å…¶æ¬¡,"åè¡Œæ–­è¨€"çš„åæ–œæ å¼•ç”¨,ä¹Ÿä¸é€šå¸¸çš„é¡ºåºç›¸å,å¿…é¡»æ”¾åœ¨å¯¹åº”çš„é‚£ä¸ªæ‹¬å·ä¹‹å‰ã€‚

      /(?<=(o)d\1)r/.exec('hodor')  // null
      /(?<=\1d(o))r/.exec('hodor')  // ["r", "o"]
      ä¸Šé¢ä»£ç ä¸­,å¦‚æœåè¡Œæ–­è¨€çš„åæ–œæ å¼•ç”¨(\1)æ”¾åœ¨æ‹¬å·çš„åé¢,å°±ä¸ä¼šå¾—åˆ°åŒ¹é…ç»“æœ,å¿…é¡»æ”¾åœ¨å‰é¢æ‰å¯ä»¥ã€‚
    Unicodeå±æ€§ç±»
      ç›®å‰,æœ‰ä¸€ä¸ªææ¡ˆ,å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\p{...}å’Œ\P{...},å…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆUnicodeæŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚

      const regexGreekSymbol = /\p{Script=Greek}/u;
      regexGreekSymbol.test('Ï€') // u
      ä¸Šé¢ä»£ç ä¸­,\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯,æ‰€ä»¥åŒ¹é…Ï€æˆåŠŸã€‚

      Unicodeå±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼ã€‚

      \p{UnicodePropertyName=UnicodePropertyValue}
      å¯¹äºæŸäº›å±æ€§,å¯ä»¥åªå†™å±æ€§åã€‚

      \p{UnicodePropertyName}
      \P{â€¦}æ˜¯\p{â€¦}çš„åå‘åŒ¹é…,å³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ã€‚

      æ³¨æ„,è¿™ä¸¤ç§ç±»åªå¯¹Unicodeæœ‰æ•ˆ,æ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚å¦‚æœä¸åŠ uä¿®é¥°ç¬¦,æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨\på’Œ\Pä¼šæŠ¥é”™,ECMAScripté¢„ç•™äº†è¿™ä¸¤ä¸ªç±»ã€‚

      ç”±äºUnicodeçš„å„ç§å±æ€§éå¸¸å¤š,æ‰€ä»¥è¿™ç§æ–°çš„ç±»çš„è¡¨è¾¾èƒ½åŠ›éå¸¸å¼ºã€‚

      const regex = /^\p{Decimal_Number}+$/u;
      regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼') // true
      ä¸Šé¢ä»£ç ä¸­,å±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦,å¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚

      \p{Number}ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—ã€‚

      // åŒ¹é…æ‰€æœ‰æ•°å­—
      const regex = /^\p{Number}+$/u;
      regex.test('Â²Â³Â¹Â¼Â½Â¾') // true
      regex.test('ã‰›ã‰œã‰') // true
      regex.test('â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«') // true
      ä¸‹é¢æ˜¯å…¶ä»–ä¸€äº›ä¾‹å­ã€‚

      // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯,ç­‰åŒäºUnicodeç‰ˆçš„\w
      [\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]

      // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦,ç­‰åŒäºUnicodeç‰ˆçš„\W
      [^\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]

      // åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦
      const regexArrows = /^\p{Block=Arrows}+$/u;
      regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true
  Strings and Regular Expressions,å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼ 
    PS:ECMAScript 6 è¯ç”Ÿä¹‹å‰,JavaScript å­—ç¬¦ä¸²(string)ç”± 16 ä½ç¼–ç çš„å­—ç¬¦ç»„æˆ(UTF-16).
      æ¯ä¸ªå­—ç¬¦åˆç”±åŒ…å«ä¸€ä¸ª 16 ä½åºåˆ—çš„ä»£ç å•å…ƒ(code unit)è¡¨ç¤º.
      æ‰€æœ‰çš„å­—ç¬¦ä¸²å±æ€§å’Œæ–¹æ³•,ä¾‹å¦‚ length å’Œ charAt(),éƒ½åŸºäºè¿™äº› 16 ä½ç¼–ç å•å…ƒ.
      æ›¾ç»,16 ä½çš„å®¹é‡å¯¹äºä»»æ„å­—ç¬¦çš„å­˜æ”¾éƒ½æ˜¯è¶³å¤Ÿçš„,
      ç„¶è€Œ Unicode å¼•å…¥äº†æ‰©å±•å­—ç¬¦é›†(expanded character set)ä½¿å¾—é™åˆ¶å­—ç¬¦çš„é•¿åº¦åœ¨ 16 ä½ä»¥å†…,
      æ‰€ä»¥éš¾ä»¥æ»¡è¶³ Unicode æ„å›¾ç»™ä¸–ç•Œä¸Šæ‰€æœ‰å­—ç¬¦æä¾›å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦çš„é›„å¿ƒå£®å¿—.
      UTF-16 çš„å‰ 2^16 ä¸ªä»£ç ç‚¹ç”±å•ä¸ª 16 ä½ä»£ç å•å…ƒè¡¨ç¤º.
      è¿™ä¸ªèŒƒå›´è¢«ç§°ä½œåŸºæœ¬å¤šè¯­è¨€é¢(Basic Multilingual Plane,BMP).
      ä»»ä½•è¶…å‡ºè¯¥èŒƒå›´çš„éƒ¨åˆ†éƒ½æ˜¯å¢è¡¥çš„è¯­è¨€é¢(supplementary plane),
      ä»£ç ç‚¹å°†ä¸èƒ½è¢«å•ä¸€çš„ 16 ä½ä»£ç å•å…ƒè¡¨ç¤º.
      å› æ­¤,UTF-16 å¼•å…¥äº†ä»£ç†é¡¹å¯¹(surrogate pair)æ¥è®©ä¸¤ä¸ª 16 ä½ä»£ç å•å…ƒè¡¨ç¤ºä¸€ä¸ªä»£ç ç‚¹.
      è¿™æ„å‘³ç€å­—ç¬¦æ—¢å¯èƒ½æ˜¯åŒ…å«å•ä¸ªä»£ç å•å…ƒçš„ 16 ä½ BMP å­—ç¬¦,
      ä¹Ÿå¯èƒ½æ˜¯ç”±ä¸¤ä¸ªä»£ç å•å…ƒç»„æˆçš„ä½äºå¢è¡¥è¯­è¨€é¢çš„ 32 ä½å­—ç¬¦.
    e.g.:
      var text = "ğ ®·";
      console.log(text.length);           // 2
      å•ä¸ª Unicode å­—ç¬¦ "ğ ®·" ç”±ä»£ç†é¡¹å¯¹è¡¨ç¤º,
      å› æ­¤,æœ¬ä¾‹ä¸­ JavaScript åœ¨æ“ä½œè¯¥å­—ç¬¦ä¸²æ—¶ä¼šå°†å®ƒè§†ä¸ºä¸¤ä¸ª 16 ä½å­—ç¬¦.
    str.codePointAt(index); è¿”å›æŒ‡å®šä¸‹æ ‡å­—ç¬¦çš„ç»è¿‡æ‰©å±•åçš„UTF-16 ç¼–ç 
      ä¸ºäº†å…¨é¢æ”¯æŒ UTF-16,ECMAScript 6 æ–°æ·»åŠ çš„æ–¹æ³•ä¹‹ä¸€å°±æ˜¯ codePointAt(),
      å®ƒå¯ä»¥æå–ç»™å®šä½ç½®å­—ç¬¦ä¸²çš„å¯¹åº” Unicode ä»£ç ç‚¹.
      è¯¥æ–¹æ³•æ¥æ”¶ä»£ç å•å…ƒè€Œéå­—ç¬¦çš„ä½ç½®å¹¶è¿”å›ä¸€ä¸ªæ•´å‹å€¼.
      e.g.:
        var text = "ğ ®·a";
        console.log(text.charCodeAt(0));    // 55362
        console.log(text.charCodeAt(1));    // 57271
        console.log(text.charCodeAt(2));    // 97
        console.log(text.codePointAt(0));   // 134071
        console.log(text.codePointAt(1));   // 57271
        console.log(text.codePointAt(2));   // 97
        ç¤ºä¾‹ä¸­çš„é¦–ä¸ªå­—ç¬¦å¹¶æ²¡æœ‰ä½äº BMP èŒƒå›´å†…,å› æ­¤å®ƒåŒ…å«ä¸¤ä¸ªä»£ç å•å…ƒ,
        æ„å‘³ç€ length å±æ€§æ˜¯ 3 è€Œä¸æ˜¯ 2 .
        charCodeAt() æ–¹æ³•è¿”å›çš„åªæ˜¯å¤„äºä½ç½® 0 çš„ç¬¬ä¸€ä¸ªä»£ç å•å…ƒ,
        è€Œ codePointAt() è¿”å›çš„æ˜¯å®Œæ•´çš„ä»£ç ç‚¹,å³ä½¿å®ƒåˆ†é…ç»™äº†å¤šä¸ªä»£ç å•å…ƒ.
  
        å¯¹ä¸€ä¸ªå­—ç¬¦è°ƒç”¨ codePointAt() æ–¹æ³•æ˜¯åˆ¤æ–­å®ƒæ‰€åŒ…å«ä»£ç å•å…ƒæ•°é‡çš„æœ€å®¹æ˜“çš„æ–¹æ³•
        function is32Bit(c) { return c.codePointAt(0) > 0xFFFF; }
        console.log(is32Bit("ğ ®·"));    // true
        console.log(is32Bit("a"));     // false
    String.fromCodePoint(num); æ ¹æ®æŒ‡å®šçš„UTF-16 ç¼–ç ç”Ÿæˆå­—ç¬¦
      PS:å¯ä»¥å°† String.fromCharCode() è§†ä¸º String.fromCharCode() çš„å®Œå–„ç‰ˆæœ¬.
        é’ˆå¯¹ BMP å­—ç¬¦ä¸¤è€…ä¼šäº§ç”Ÿç›¸åŒçš„ç»“æœ,åªæœ‰ BMP ä¹‹å¤–çš„å­—ç¬¦æ‰ä¼šæœ‰å·®å¼‚.
      e.g.:
        ä½¿ç”¨ç»™å®šçš„ä»£ç ç‚¹æ¥äº§ç”Ÿç›¸åº”çš„å•ä¸ªå­—ç¬¦
        console.log(String.fromCodePoint(134071));  // "ğ ®·"
  Set   é›†åˆ 
     PS:å’Œæ•°ç»„ç±»ä¼¼,åŒºåˆ«æ˜¯Setä¸­çš„å…ƒç´ éƒ½æ˜¯ä¸é‡å¤çš„.
       ä¼šè‡ªåŠ¨å»æ‰é‡å¤çš„å…ƒç´ 
     åˆ›å»º
       var s1 = new Set()
       //åˆ›å»ºä¸€ä¸ªé›†åˆ
       var s2 =new Set([1,2,3,2,4])
       //åˆ›å»ºå¹¶åˆå§‹åŒ–
       s2;   //Set {1, 2, 3, 4}
       // è‡ªåŠ¨è¿‡æ»¤æ‰äº†é‡å¤çš„å…ƒç´ 
     æ·»åŠ å…ƒç´ 
       s.add(å…ƒç´ )
     åˆ é™¤å…ƒç´ 
       s.delete(å…ƒç´ )
       åˆ é™¤æˆåŠŸè¿”å›true,å¦åˆ™ä¸ºfalse.
     å…ƒç´ æ£€æŸ¥
       æ£€æµ‹æ˜¯å¦å­˜åœ¨å…ƒç´ a
       s.has(å…ƒç´ a)
       è‹¥å­˜åœ¨è¿”å›true,å¦åˆ™è¿”å›false
     é›†åˆé•¿åº¦
       s.size
       è¿”å›é›†åˆçš„é•¿åº¦,è¿”å›å€¼ç±»å‹ä¸ºæ•°å€¼.
  Map   å­—å…¸ 
    å’ŒObjectç±»ä¼¼,ä»¥å­—ç¬¦ä¸²ä½œä¸ºä¸‹æ ‡æ¥å­˜å‚¨/è·å–å€¼.
    å®šä¹‰
       var m =new Map()
    å¢åŠ 
       m.set('name','abc')
    è·å–
       m.get('name')
    e.g.
      var m =new Map()
      m.set('say',function Say(){console.log('hello')})
      m.get('say')    //function Say(){console.log('hello')}
  Blob  äºŒè¿›åˆ¶æ•°æ®çš„åŸºæœ¬å¯¹è±¡ 
    PS:ä¸€ä¸ª Blobå¯¹è±¡è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜çš„,åŸå§‹æ•°æ®çš„ç±»ä¼¼æ–‡ä»¶å¯¹è±¡ã€‚
      Blobè¡¨ç¤ºçš„æ•°æ®ä¸ä¸€å®šæ˜¯ä¸€ä¸ªJavaScriptåŸç”Ÿæ ¼å¼ã€‚ 
      File æ¥å£åŸºäºBlob,ç»§æ‰¿ blobåŠŸèƒ½å¹¶å°†å…¶æ‰©å±•ä¸ºæ”¯æŒç”¨æˆ·ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚
      è¦ä»ç”¨æˆ·æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ä¸­è·å–ä¸€ä¸ªBlobå¯¹è±¡,è¯·å‚é˜… Fileæ–‡æ¡£ã€‚
      æ¥å—Blobå¯¹è±¡çš„APIsä¹Ÿè¢«åˆ—åœ¨ File æ–‡æ¡£ä¸­ã€‚
    åˆ›å»ºblobå¯¹è±¡
      Blob(blobParts[, options])  è¿”å›åˆ›å»ºçš„ Blob å¯¹è±¡
        PS:å…¶å†…å®¹ç”±å‚æ•°ä¸­ç»™å®šçš„æ•°ç»„ä¸²è”ç»„æˆã€‚
        blobParts ä¸€ä¸ªåŒ…å«å®é™…æ•°æ®çš„æ•°ç»„
        options   æ•°æ®çš„ç±»å‹
        ä½¿ç”¨å…¶å®ƒå¯¹è±¡åˆ›å»ºä¸€ä¸ª Blob å¯¹è±¡
          e.g.:ç”¨å­—ç¬¦ä¸²æ„å»ºä¸€ä¸ª blobï¼š
          var debug = {hello: "world"};
          var blob = new Blob([JSON.stringify(debug, null, 2)],
            {type : 'application/json'});
        e.g.: åˆ©ç”¨Blobå¯¹è±¡,ç”Ÿæˆå¯ä¸‹è½½æ–‡ä»¶
          var blob = new Blob(["Hello World"]);
          var a = document.createElement("a");
          a.href = window.URL.createObjectURL(blob);
          a.download = "hello-world.txt";
          a.textContent = "Download Hello World!";
          document.body.appendChild(a);
          æœ€ç»ˆ HTMLä¸­æ˜¾ç¤ºä¸º:
          <a href="blob:http://localhuarun.qilaiwan.com/377b41e4-d95f-4bf0-8e5e-c493d24fc2f4" download="hello-world.txt">Download Hello World!</a>
          ç‚¹å‡»åæç¤ºä¸‹è½½æ–‡æœ¬æ–‡ä»¶ hello-world.txt , æ–‡ä»¶å†…å®¹ä¸ºâ€œHello Worldâ€ã€‚
      blob.slice() ä½¿ç”¨blobå¯¹è±¡åˆ›å»ºblobå¯¹è±¡
    BlobBuilder æ¥å£æä¾›äº†å¦å¤–ä¸€ç§åˆ›å»ºBlobå¯¹è±¡çš„æ–¹å¼ [å·²åºŸå¼ƒ]
      var builder = new BlobBuilder();
      var fileParts = ['<a id="a"><b id="b">hey!</b></a>'];
      builder.append(fileParts[0]);
      var myBlob = builder.getBlob('text/xml');
    ä½¿ç”¨ç±»å‹æ•°ç»„å’Œ Blob åˆ›å»ºä¸€ä¸ª URL
      var typedArray = GetTheTypedArraySomehow();
      // ä¼ å…¥ä¸€ä¸ªåˆé€‚çš„MIMEç±»å‹
      var blob = new Blob([typedArray], {type: "application/octet-binary"});
      
      // ä¼šäº§ç”Ÿä¸€ä¸ªç±»ä¼¼blob:d3958f5c-0777-0845-9dcf-2cb28783acaf è¿™æ ·çš„URLå­—ç¬¦ä¸²
      // ä½ å¯ä»¥åƒä½¿ç”¨ä¸€ä¸ªæ™®é€šURLé‚£æ ·ä½¿ç”¨å®ƒ,æ¯”å¦‚ç”¨åœ¨img.srcä¸Šã€‚
      var url = URL.createObjectURL(blob);
    ä»Blobä¸­è¯»å–å†…å®¹çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ FileReader
      ä»¥ä¸‹ä»£ç å°† Blob çš„å†…å®¹ä½œä¸ºç±»å‹æ•°ç»„è¯»å–ï¼š
      var reader = new FileReader();
      reader.addEventListener("loadend", function() {
         // reader.result contains the contents of blob as a typed array
      });
      reader.readAsArrayBuffer(blob);
      ä½¿ç”¨ FileReader ä»¥å¤–çš„æ–¹æ³•è¯»å–åˆ°çš„å†…å®¹å¯èƒ½ä¼šæ˜¯å­—ç¬¦ä¸²æˆ–æ˜¯æ•°æ® URLã€‚  
    blob.slice()  åˆ›å»ºä¸€ä¸ªåŒ…å«å¦ä¸€ä¸ªblobçš„æ•°æ®å­é›†çš„blob
      blob.slice([start[, end[, contentType]]]) åŒ…å«æºå¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®æ–°å¯¹è±¡
      slice ä¸€å¼€å§‹çš„æ—¶å€™æ˜¯æ¥å— length ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°,ä»¥è¡¨ç¤ºå¤åˆ¶åˆ°æ–° Blob å¯¹è±¡çš„å­—èŠ‚æ•°ã€‚
      å¦‚æœè®¾ç½®å…¶ä¸º start + length,è¶…å‡ºäº†æº Blob å¯¹è±¡çš„å¤§å°,é‚£è¿”å›çš„ Blob åˆ™æ˜¯æ•´ä¸ªæº Blob çš„æ•°æ®ã€‚
      slice æ–¹æ³•åœ¨æŸäº›æµè§ˆå™¨å’Œç‰ˆæœ¬ä¸Šä»å¸¦æœ‰ä¾›åº”å•†å‰ç¼€ï¼š
        Firefox 12 åŠæ›´æ—©ç‰ˆæœ¬çš„ blob.mozSlice() 
        Safari ä¸­çš„ blob.webkitSlice()
        slice æ–¹æ³•çš„æ—§ç‰ˆæœ¬,æ²¡æœ‰ä¾›åº”å•†å‰ç¼€,å…·æœ‰ä¸åŒçš„è¯­ä¹‰,å¹¶ä¸”å·²è¿‡æ—¶ã€‚ 
        ä½¿ç”¨Firefox 30 åˆ é™¤äº†å¯¹ blob.mozSlice() çš„æ”¯æŒã€‚
      e.g.:  ä½¿ç”¨XMLHttpRequestå¯¹è±¡,å°†å¤§æ–‡ä»¶åˆ†å‰²ä¸Šä¼ 
        var inputElem = document.querySelector('input[type="file"]');
        function upload(blobOrFile) {
          var xhr = new XMLHttpRequest();
          xhr.open('POST', '/server', true);
          xhr.onload = function(e) { ... };
          xhr.send(blobOrFile);
        }
        inputElem.addEventListener('change', function(e) {
          var blob = this.files[0];
          const BYTES_PER_CHUNK = 1024 * 1024; // 1MB chunk sizes.
          const SIZE = blob.size;
          var start = 0 , end = BYTES_PER_CHUNK;
          while(start < SIZE) {
            var upBlob = blob.slice(start, end) ;
            upload(upBlob);
            start = end;
            end = start + BYTES_PER_CHUNK;
          }
        }, false);
    blob.isClosed åªè¯» å¸ƒå°”å€¼,æŒ‡ç¤º Blob.close() æ˜¯å¦åœ¨è¯¥å¯¹è±¡ä¸Šè°ƒç”¨è¿‡
      å…³é—­çš„ blob å¯¹è±¡ä¸å¯è¯»ã€‚
    blob.size åªè¯», Blobå¯¹è±¡ä¸­æ‰€åŒ…å«æ•°æ®çš„å¤§å°,å•ä½ä¸ºå­—èŠ‚
    blob.type åªè¯»,å­—ç¬¦ä¸²,è¡¨æ˜è¯¥Blobå¯¹è±¡æ‰€åŒ…å«æ•°æ®çš„MIMEç±»å‹
      å¦‚æœç±»å‹æœªçŸ¥,åˆ™è¯¥å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚
      åœ¨Ajaxæ“ä½œä¸­,å¦‚æœ xhr.responseType è®¾ä¸º blob,æ¥æ”¶çš„å°±æ˜¯äºŒè¿›åˆ¶æ•°æ®ã€‚
    blob.close() å…³é—­ Blob å¯¹è±¡,ä»¥ä¾¿èƒ½é‡Šæ”¾åº•å±‚èµ„æºã€‚ 
Promise å¼‚æ­¥æ¨¡å¼ 
  PS: é‡‡ç”¨ Promise æ–¹å¼,å¯é‡‡ç”¨'åŒæ­¥'å½¢å¼çš„ä»£ç æ¥å†³è§£å¼‚æ­¥å‡½æ•°é—´çš„å±‚å±‚åµŒå¥—,
    å°†åŸæ¥å¼‚æ­¥å‡½æ•°çš„åµŒå¥—å…³ç³»è½¬å˜ä¸º'åŒæ­¥'çš„é“¾å¼å…³ç³».
    Promise å¯¹è±¡æ˜¯ä¸€ä¸ªä»£ç†å¯¹è±¡,ä»£ç†äº†æœ€ç»ˆè¿”å›çš„å€¼,å¯ä»¥åœ¨åæœŸä½¿ç”¨.
    å°†å¼‚æ­¥æ“ä½œå°è£…æˆ Promise å¯¹è±¡.
    ç„¶åä½¿ç”¨ Promise å¯¹è±¡çš„ then catch ç­‰æ–¹æ³•,è¿›è¡Œé“¾å¼çš„å½¢ä¼¼åŒæ­¥çš„å†™æ³•å®Œæˆå¼‚æ­¥æ“ä½œ.
    Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:
    pending: åˆå§‹çŠ¶æ€, åˆå§‹çŠ¶æ€,æœªå®Œæˆæˆ–æ‹’ç»ã€‚
    fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚
    rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚
    åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœ,å¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€,ä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚
    ä¸€æ—¦çŠ¶æ€æ”¹å˜,å°±ä¸ä¼šå†å˜,ä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚
    è¿™ä¸äº‹ä»¶(Event)å®Œå…¨ä¸åŒ,äº‹ä»¶çš„ç‰¹ç‚¹æ˜¯,å¦‚æœä½ é”™è¿‡äº†å®ƒ,å†å»ç›‘å¬,æ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚
    Promise çš„ç¼ºç‚¹
    é¦–å…ˆ,æ— æ³•å–æ¶ˆ Promise,ä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œ,æ— æ³•ä¸­é€”å–æ¶ˆã€‚
    å…¶æ¬¡,å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°,Promise å†…éƒ¨æŠ›å‡ºçš„é”™è¯¯,ä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚
    ç¬¬ä¸‰,å½“å¤„äº Pending çŠ¶æ€æ—¶,æ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µ,åˆšåˆšå¼€å§‹è¿˜æ˜¯å³å°†å®Œæˆ.
  new Promise(foo) åˆ›å»ºPromiseå¯¹è±¡
    PS: Promiseåœ¨åˆ›å»ºæ—¶,å‚æ•°å‡½æ•°å°±ä¼šæ‰§è¡Œ
      å‚æ•°ä¸ºä¸€ã€Œæ‰§è¡Œå¼‚æ­¥æ“ä½œçš„ã€å‡½æ•°, resolve å’Œ reject ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ã€Œexecutorã€
      å‚æ•°å‡½æ•°å†…,è‹¥ resolve è¢«è°ƒç”¨,ä»£è¡¨è¯¥Promiseè¢«æˆåŠŸè§£æã€Œresolveã€;
      è‹¥ reject è¢«è°ƒç”¨æ—¶,ä»£è¡¨è¯¥Promiseçš„å€¼ä¸èƒ½ç”¨äºåç»­å¤„ç†äº†,å³è¢«æ‹’ç»ã€Œrejectã€äº†
      executorä¸»è¦ç”¨äºåˆå§‹åŒ–å¼‚æ­¥ä»£ç ,ä¸€æ—¦å¼‚æ­¥ä»£ç è°ƒç”¨å®Œæˆ,
      è¦ä¹ˆè°ƒç”¨ resolve æ–¹æ³•æ¥è¡¨ç¤ºPromiseè¢«æˆåŠŸè§£æ,
      æˆ–æ˜¯è°ƒç”¨ reject æ–¹æ³•,è¡¨ç¤ºåˆå§‹åŒ–çš„å¼‚æ­¥ä»£ç è°ƒç”¨å¤±è´¥,æ•´ä¸ªpromiseè¢«æ‹’ç»ã€‚
      å¦‚æœåœ¨executor æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ›å‡ºäº†ä»»ä½•å¼‚å¸¸,é‚£ä¹ˆpromiseç«‹å³è¢«æ‹’ç»,
      å³ç›¸å½“äºrejectæ–¹æ³•è¢«è°ƒç”¨,executor çš„è¿”å›å€¼ä¹Ÿå°±ä¼šè¢«å¿½ç•¥ã€‚
    var pms = new Promise(function(rs,rj){
      rs(arg1); // ç”¨äº å¼‚æ­¥æˆåŠŸå ä¼ é€’æ•°æ® arg1
      rj(arg2); // ç”¨äº å¼‚æ­¥å¤±è´¥å ä¼ é€’æ•°æ® arg2
      // rs rjå‡½æ•°æ ¹æ®é€»è¾‘éœ€è¦è¿›è¡Œç›¸åº”çš„æ‰§è¡Œ
    })
  pms.then(foo1[,foo2])    rsæˆ–rjæ‰§è¡Œè§¦å‘foo1æˆ–foo2
    foo2 å¯é€‰,åœ¨rjåæ‰§è¡Œ,è‹¥ä¸å­˜åœ¨åˆ™å¿½ç•¥;
    å…¶ä¸­rså°†å…¶å‚æ•°ä¼ é€’ç»™foo1ä½œä¸ºå‚æ•°,rjå°†å…¶å‚æ•°ä¼ é€’ç»™foo2ä½œä¸ºå‚æ•°;
    foo1 é»˜è®¤ä¼šè¿”å›ä¸€ä¸ªPromiseå€¼,ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¿”å›å€¼,
    è¯¥å€¼ä¼šä¼ é€’åˆ°ä¸‹ä¸€ä¸ªthençš„foo1æ–¹æ³•å‚æ•°ä¸­;
    è‹¥ foo1 è¿”å›ä¸€ä¸ªæ–° Promise,
    åˆ™thenä¹‹åå†è°ƒç”¨çš„thenå°±æ˜¯æ–°Promiseä¸­çš„é€»è¾‘äº†;
  Promise.resolve()
  Promise.reject()
  Promise.prototype.then()
  Promise.prototype.catch()
  Promise.all() // æ‰€æœ‰çš„å®Œæˆ
  var p = Promise.all([p1,p2,p3]);
  Promise.race() // ç«é€Ÿ,å®Œæˆä¸€ä¸ªå³å¯
  finally
  bind
  all
  joinprops
  any
  some
  race
  .map(Function mapper [, Object options])
  .reduce(Function reducer [, dynamic initialValue]) 
  Question:
    ä½¿ç”¨ Promise ç›‘æ§ ç‚¹å‡»æ—¶é—´ , ä½¿ç”¨Promise æ”¹å˜äº‹ä»¶çš„æ‰§è¡Œæ–¹å¼ [?] 
  e.g.:
    é€šè¿‡Promiseæ¥è°ƒç”¨AJAX ã€Œselfã€
    var pms = new Promise(function(rs , rj){
      $.ajax({
        type : 'get',
        url  : 'url',
        data : {
          key : val,
        }, 
        dataType : 'json',
        success  : function(backData,textStatus,obj){
          rs(backData);
        }, 
        error    : function (xhr,status,errorTrown){
          rj(status);
        }, 
      });
    })
    pms.then(function(data){
      console.log(data); // æ‰“å°å‡ºAJAXè·å–åˆ°çš„æ•°æ®
    })
    .catch(function(data){
      console.log(data); // æ‰“å°å‡ºå‡ºé”™çš„ä¿¡æ¯
    })
ASYNC : ç”¨æ¥å–ä»£å›è°ƒå‡½æ•°ã€è§£å†³å¼‚æ­¥æ“ä½œçš„ä¸€ç§æ–¹æ³• 
  async å‡½æ•°ä¸ Promiseã€Generator å‡½æ•°ç±»ä¼¼, å®ƒæœ¬è´¨ä¸Šæ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚
  async å‡½æ•°å¹¶ä¸å±äº ES6,è€Œæ˜¯è¢«åˆ—å…¥äº† ES7ã€‚
export importï¼š moduleæ¨¡å—åŒ– 
  ä»‹ç»
    JSä¸€ç›´æ²¡æœ‰æ¨¡å—ä½“ç³»,æ— æ³•å°†ä¸€å¤§ç¨‹åºæ‹†åˆ†æˆäº’ç›¸ä¾èµ–çš„å°æ–‡ä»¶, å†ç®€å•çš„æ‹¼è£…èµ·æ¥ã€‚
    å…¶ä»–è¯­è¨€éƒ½æœ‰è¿™é¡¹åŠŸèƒ½,æ¯”å¦‚ Ruby çš„requireã€Python çš„import,
    ç”šè‡³å°±è¿ CSS éƒ½æœ‰@import,
    ä½†æ˜¯ JavaScript ä»»ä½•è¿™æ–¹é¢çš„æ”¯æŒéƒ½æ²¡æœ‰,è¿™å¯¹å¼€å‘å¤§å‹çš„ã€å¤æ‚çš„é¡¹ç›®å½¢æˆäº†å·¨å¤§éšœç¢
    åœ¨ ES6 ä¹‹å‰,ç¤¾åŒºåˆ¶å®šäº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆ,æœ€ä¸»è¦çš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚
    å‰è€…ç”¨äºæœåŠ¡å™¨,åè€…ç”¨äºæµè§ˆå™¨ã€‚
    ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Š,å®ç°äº†æ¨¡å—åŠŸèƒ½,è€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•,
    å®Œå…¨å¯ä»¥å–ä»£ CommonJS å’Œ AMD è§„èŒƒ,æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚
  æ¨¡å—åŒ–æ¼”åŒ–
    PS:æ¨¡å—åŒ–å¼€å‘æ˜¯ä¸€ç§ç”Ÿäº§æ•ˆç‡é«˜,ç»´æŠ¤æˆæœ¬ä½çš„ç”Ÿäº§æ–¹å¼
      ä»è½¯ä»¶å¼€å‘è§’åº¦æ¥è¯´,æ¨¡å—åŒ–å¼€å‘æ˜¯ä¸€ç§å¼€å‘æ¨¡å¼,å†™ä»£ç çš„ä¸€ç§æ–¹å¼;
      éæ¨¡å—åŒ–å¼€å‘å¯èƒ½é‡åˆ°çš„é—®é¢˜: å‘½åå†²çªã€æ–‡ä»¶ä¾èµ–
      æ¨¡å—åŒ–ä¼˜ç‚¹: æå‡å¼€å‘æ•ˆç‡ã€æ–¹ä¾¿åæœŸç»´æŠ¤.
      ä¸šåŠ¡å¤æ‚, é‡ç”¨é€»è¾‘éå¸¸å¤š, æ‰©å±•æ€§è¦æ±‚è¾ƒé«˜ æ—¶æ¨èä½¿ç”¨æ¨¡å—åŒ–å¼€å‘.
    å…¨å±€å‡½æ•°
      function add(a , b) {
        return parseFloat(a) + parseFloat(b);
      }
      function substract(a ,b) {}
      å­˜åœ¨çš„é—®é¢˜ï¼š
        æ±¡æŸ“äº†å…¨å±€å˜é‡,æ— æ³•ä¿è¯ä¸ä¸å…¶ä»–æ¨¡å—å‘ç”Ÿå˜é‡åå†²çªã€‚
        æ¨¡å—æˆå‘˜ä¹‹é—´çœ‹ä¸å‡ºç›´æ¥å…³ç³»ã€‚
    å¯¹è±¡å°è£…-å‘½åç©ºé—´
      var calculator = {
        add: function(a, b) { return parseFloat(a) + parseFloat(b); },
        subtract: function(a, b) {},
      };
      ä¼˜ç¼ºç‚¹:
        ä»æŸç§ç¨‹åº¦ä¸Šè§£å†³äº†å˜é‡å‘½åå†²çªçš„é—®é¢˜,ä½†æœªä»æ ¹æœ¬ä¸Šè§£å†³å‘½åå†²çªã€‚
        ä»ä»£ç çº§åˆ«å¯ä»¥æ˜æ˜¾åŒºåˆ†å‡ºå“ªäº›å‡½æ•°å±äºåŒä¸€ä¸ªæ¨¡å—
        æš´éœ²äº†æ‰€æœ‰çš„æ¨¡å—æˆå‘˜,å†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™,ä¸å®‰å…¨ã€‚
        å‘½åç©ºé—´è¶Šæ¥è¶Šé•¿ã€‚
    ç§æœ‰å…¬æœ‰æˆå‘˜åˆ†ç¦»
      var calculator = (function () {
        function convert(input){ return parseInt(input); }
        function add(a, b) { return convert(a) + convert(b); }
        function subtract(a, b) {}
        function multiply(a, b) {}
        function divide(a, b) {}

        return {
          add : add,
          subtract : subtract,
          multiply : multiply,
          divide : divide
        }
      })();
      ä¼˜ç‚¹:
        æ­¤æ–¹å¼å°†å‡½æ•°åŒ…è£…æˆä¸€ç‹¬ç«‹çš„ä½œç”¨åŸŸ,ç§æœ‰ç©ºé—´çš„å˜é‡å’Œå‡½æ•°ä¸ä¼šå½±å“åˆ°å…¨å±€ä½œç”¨åŸŸ.
        ä»¥è¿”å›å€¼çš„æ–¹å¼å¾—åˆ°æ¨¡å—çš„å…¬å…±æˆå‘˜ã€å…¬å¼€å…¬æœ‰æ–¹æ³•,éšè—ç§æœ‰ç©ºé—´å†…éƒ¨çš„å±æ€§ã€å…ƒç´ .
        å¯ä»¥æœ‰é€‰æ‹©çš„å¯¹å¤–æš´éœ²è‡ªèº«æˆå‘˜ã€‚
        ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´,è§£å†³äº†å˜é‡å‘½åå†²çªçš„é—®é¢˜ã€‚
    æ¨¡å—çš„æ‰©å±•ä¸ç»´æŠ¤
      // è®¡ç®—æ¨¡å—
      (function (calculator) {
        function convert(input) { return parseInt(input); }
        calculator.add = function(a, b) { return convert(a) + convert(b); }
        window.calculator = calculator;
      })(window.calculator || {});
      // æ–°å¢éœ€æ±‚
      (function (calculator) {
        calculator.remain = function (a , b) { return a % b; }
        window.calculator = calculator;
      })(window.calculator || {});
      alert(calculator.remain(4,3));
      ä¼˜ç‚¹:
        æœ‰åˆ©äºå¯¹åºå¤§çš„æ¨¡å—çš„å­æ¨¡å—åˆ’åˆ†ã€‚
        å®ç°äº†å¼€é—­åŸåˆ™ï¼šå¯¹æ–°å¢å¼€å‘,å¯¹ä¿®æ”¹å…³é—­ã€‚
        å¯¹äºå·²æœ‰æ–‡ä»¶å°½é‡ä¸è¦ä¿®æ”¹,é€šè¿‡æ·»åŠ æ–°æ–‡ä»¶çš„æ–¹å¼æ·»åŠ æ–°åŠŸèƒ½ã€‚
    ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç®¡ç†
      (function (calculator , $) {
        // ä¾èµ–å‡½æ•°çš„å‚æ•°,æ˜¯å±äºæ¨¡å—å†…éƒ¨
        // console.log($);
        calculator.remain = function (a , b) { return a % b; }
        window.calculator = calculator;
      })(window.calculator || {} , jQuery);
      ä¼˜ç‚¹:
        æ¨¡å—æœ€å¥½è¦ä¿è¯æ¨¡å—çš„èŒè´£å•ä¸€æ€§,æœ€å¥½ä¸è¦ä¸ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ç›´æ¥äº¤äº’,
        é€šè¿‡å‘åŒ¿åå‡½æ•°æ³¨å…¥ä¾èµ–é¡¹çš„å½¢å¼,ä¿è¯äº†æ¨¡å—çš„ç‹¬ç«‹æ€§,è¿˜ä½¿æ¨¡å—ä¹‹é—´çš„ä»¥æ¥å…³ç³»å˜å¾—æ˜æ˜¾.
        å¯¹äºæ¨¡å—çš„ä¾èµ–é€šè¿‡è‡ªæ‰§è¡Œå‡½æ•°çš„å‚æ•°ä¼ å…¥,è¿™æ ·åšå¯ä»¥åšåˆ°ä¾èµ–æŠ½è±¡,
        æœ¬ä¾‹ä¸­ä½¿ç”¨çš„jQuery,è€Œå½“è¦ä½¿ç”¨zeptoçš„æ—¶å€™,åªè¦æ›´æ¢ä¼ å…¥çš„å‚æ•°å³å¯ã€‚
        åŸåˆ™ï¼šé«˜å†…èšä½è€¦åˆ,æ¨¡å—å†…ç›¸å…³æ€§é«˜,æ¨¡å—é—´å…³è”ä½ã€‚
  æ¨¡å—åŒ–è§„èŒƒ
    PS:å®¢æˆ·ç«¯è§„èŒƒä¸»è¦æœ‰ï¼šAMD å’Œ CMD
      æœåŠ¡å™¨ç«¯è§„èŒƒä¸»è¦æ˜¯ CommonJS,
      node.js ç”¨çš„å°±æ˜¯ CommonJS è§„èŒƒã€‚
    AMD å¼‚æ­¥æ¨¡å—å®šä¹‰,ä¾èµ–å‰ç½®,å®ç°ä¸»è¦æœ‰ RequireJS, RequireJSåœ¨å›½å¤–ç”¨çš„æ¯”è¾ƒå¤š
      PS:åˆ¶å®šäº†å®šä¹‰æ¨¡å—çš„è§„åˆ™,è¿™æ ·æ¨¡å—å’Œæ¨¡å—çš„ä¾èµ–å¯ä»¥è¢«å¼‚æ­¥åŠ è½½ã€‚
        è¿™å’Œæµè§ˆå™¨çš„å¼‚æ­¥åŠ è½½æ¨¡å—çš„ç¯å¢ƒåˆšå¥½é€‚åº”ï¼ˆæµè§ˆå™¨åŒæ­¥åŠ è½½æ¨¡å—ä¼šå¯¼è‡´æ€§èƒ½ã€å¯ç”¨æ€§ã€è°ƒè¯•å’Œè·¨åŸŸè®¿é—®ç­‰é—®é¢˜ï¼‰ã€‚
      æ¨¡å—åçš„æ ¼å¼
        æ¨¡å—åç”¨æ¥å”¯ä¸€æ ‡è¯†å®šä¹‰ä¸­æ¨¡å—,å®ƒä»¬åŒæ ·åœ¨ä¾èµ–æ•°ç»„ä¸­ä½¿ç”¨ã€‚
        AMDçš„æ¨¡å—åè§„èŒƒæ˜¯CommonJSæ¨¡å—åè§„èŒƒçš„è¶…é›†ã€‚å¼•ç”¨å¦‚ä¸‹ï¼š
        æ¨¡å—åæ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªå•è¯ä»¥æ­£æ–œæ ä¸ºåˆ†éš”ç¬¦æ‹¼æ¥æˆçš„å­—ç¬¦ä¸²
        å•è¯é¡»ä¸ºé©¼å³°å½¢å¼,æˆ–è€…".",".."
        æ¨¡å—åä¸å…è®¸æ–‡ä»¶æ‰©å±•åçš„å½¢å¼,å¦‚".js"
        æ¨¡å—åå¯ä»¥ä¸º "ç›¸å¯¹çš„" æˆ– "é¡¶çº§çš„"ã€‚å¦‚æœé¦–å­—ç¬¦ä¸º"."æˆ–".."åˆ™ä¸º"ç›¸å¯¹çš„"æ¨¡å—å
        é¡¶çº§çš„æ¨¡å—åä»æ ¹å‘½åç©ºé—´çš„æ¦‚å¿µæ¨¡å—è§£æ
        ç›¸å¯¹çš„æ¨¡å—åä» "require" ä¹¦å†™å’Œè°ƒç”¨çš„æ¨¡å—è§£æ
        ä¸Šæ–‡å¼•ç”¨çš„CommonJSæ¨¡å—idå±æ€§å¸¸è¢«ç”¨äºJavaScriptæ¨¡å—ã€‚
        ç›¸å¯¹æ¨¡å—åè§£æç¤ºä¾‹ï¼š
        å¦‚æœæ¨¡å— "a/b/c" è¯·æ±‚ "../d", åˆ™è§£æä¸º"a/d"
        å¦‚æœæ¨¡å— "a/b/c" è¯·æ±‚ "./e", åˆ™è§£æä¸º"a/b/e"
        å¦‚æœAMDçš„å®ç°æ”¯æŒåŠ è½½å™¨æ’ä»¶(Loader-Plugins),åˆ™"!"ç¬¦å·ç”¨äºåˆ†éš”åŠ è½½å™¨æ’ä»¶æ¨¡å—åå’Œæ’ä»¶èµ„æºåã€‚ç”±äºæ’ä»¶èµ„æºåå¯ä»¥éå¸¸è‡ªç”±åœ°å‘½å,å¤§å¤šæ•°å­—ç¬¦éƒ½å…è®¸åœ¨æ’ä»¶èµ„æºåä½¿ç”¨ã€‚
      APIè¯´æ˜
        define(id?, dependencies?, factory);
          id  å¯é€‰,å­—ç¬¦ä¸²,æŒ‡çš„æ˜¯å®šä¹‰ä¸­æ¨¡å—çš„åå­—.
            å¦‚æœæ²¡æœ‰æä¾›è¯¥å‚æ•°,æ¨¡å—çš„åå­—åº”è¯¥é»˜è®¤ä¸ºæ¨¡å—åŠ è½½å™¨è¯·æ±‚çš„æŒ‡å®šè„šæœ¬çš„åå­—ã€‚
            å¦‚æœæä¾›äº†è¯¥å‚æ•°,æ¨¡å—åå¿…é¡»æ˜¯â€œé¡¶çº§â€çš„å’Œç»å¯¹çš„ï¼ˆä¸å…è®¸ç›¸å¯¹åå­—ï¼‰ã€‚
          dependencies,æ˜¯ä¸ªå®šä¹‰ä¸­æ¨¡å—æ‰€ä¾èµ–æ¨¡å—çš„æ•°ç»„ã€‚
            ä¾èµ–æ¨¡å—å¿…é¡»æ ¹æ®æ¨¡å—çš„å·¥å‚æ–¹æ³•ä¼˜å…ˆçº§æ‰§è¡Œ,å¹¶ä¸”æ‰§è¡Œçš„ç»“æœåº”è¯¥æŒ‰ç…§ä¾èµ–æ•°ç»„ä¸­çš„ä½ç½®é¡ºåºä»¥å‚æ•°çš„å½¢å¼ä¼ å…¥ï¼ˆå®šä¹‰ä¸­æ¨¡å—çš„ï¼‰å·¥å‚æ–¹æ³•ä¸­ã€‚
            ä¾èµ–çš„æ¨¡å—åå¦‚æœæ˜¯ç›¸å¯¹çš„,åº”è¯¥è§£æä¸ºç›¸å¯¹å®šä¹‰ä¸­çš„æ¨¡å—ã€‚
            æ¢å¥è¯æ¥è¯´,ç›¸å¯¹åè§£æä¸ºç›¸å¯¹äºæ¨¡å—çš„åå­—,å¹¶éç›¸å¯¹äºå¯»æ‰¾è¯¥æ¨¡å—çš„åå­—çš„è·¯å¾„ã€‚
            æœ¬è§„èŒƒå®šä¹‰äº†ä¸‰ç§ç‰¹æ®Šçš„ä¾èµ–å…³é”®å­—ã€‚
            å¦‚æœ"require","exports", æˆ– "module"å‡ºç°åœ¨ä¾èµ–åˆ—è¡¨ä¸­,
            å‚æ•°åº”è¯¥æŒ‰ç…§CommonJSæ¨¡å—è§„èŒƒè‡ªç”±å˜é‡å»è§£æã€‚
            ä¾èµ–å‚æ•°æ˜¯å¯é€‰çš„,å¦‚æœå¿½ç•¥æ­¤å‚æ•°,å®ƒåº”è¯¥é»˜è®¤ä¸º["require", "exports", "module"]ã€‚
            ç„¶è€Œ,å¦‚æœå·¥å‚æ–¹æ³•çš„å½¢å‚ä¸ªæ•°å°äº3,åŠ è½½å™¨ä¼šé€‰æ‹©ä»¥å‡½æ•°æŒ‡å®šçš„å‚æ•°ä¸ªæ•°è°ƒç”¨å·¥å‚æ–¹æ³•ã€‚
          factory,ä¸ºæ¨¡å—åˆå§‹åŒ–è¦æ‰§è¡Œçš„å‡½æ•°æˆ–å¯¹è±¡ã€‚
            å¦‚æœä¸ºå‡½æ•°,å®ƒåº”è¯¥åªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚å¦‚æœæ˜¯å¯¹è±¡,æ­¤å¯¹è±¡åº”è¯¥ä¸ºæ¨¡å—çš„è¾“å‡ºå€¼ã€‚
            å¦‚æœå·¥å‚æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼ï¼ˆå¯¹è±¡,å‡½æ•°,æˆ–ä»»æ„å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºtrueçš„å€¼ï¼‰,åº”è¯¥ä¸ºè®¾ç½®ä¸ºæ¨¡å—çš„è¾“å‡ºå€¼ã€‚
          ç®€å•çš„ CommonJS è½¬æ¢
            å¦‚æœä¾èµ–æ€§å‚æ•°è¢«å¿½ç•¥,æ¨¡å—åŠ è½½å™¨å¯ä»¥é€‰æ‹©æ‰«æå·¥å‚æ–¹æ³•ä¸­çš„requireè¯­å¥ä»¥è·å¾—ä¾èµ–æ€§ï¼ˆå­—é¢é‡å½¢ä¸ºrequire("module-id")ï¼‰ã€‚ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»å­—é¢é‡ä¸ºrequireä»è€Œä½¿æ­¤æœºåˆ¶æ­£å¸¸å·¥ä½œã€‚
            åœ¨æŸäº›æƒ…å†µä¸‹,å› ä¸ºè„šæœ¬å¤§å°çš„é™åˆ¶æˆ–å‡½æ•°ä¸æ”¯æŒtoStringæ–¹æ³•ï¼ˆOpera Mobileæ˜¯å·²çŸ¥çš„ä¸æ”¯æŒå‡½æ•°çš„toStringæ–¹æ³•ï¼‰,æ¨¡å—åŠ è½½å™¨å¯ä»¥é€‰æ‹©æ‰«æä¸æ‰«æä¾èµ–æ€§ã€‚
            å¦‚æœæœ‰ä¾èµ–å‚æ•°,æ¨¡å—åŠ è½½å™¨ä¸åº”è¯¥åœ¨å·¥å‚æ–¹æ³•ä¸­æ‰«æä¾èµ–æ€§ã€‚
        define.amd å±æ€§
          PS:ä¸ºäº†æ¸…æ™°çš„æ ‡è¯†å…¨å±€å‡½æ•°ï¼ˆä¸ºæµè§ˆå™¨åŠ è½½scriptå¿…é¡»çš„ï¼‰éµä»AMDç¼–ç¨‹æ¥å£,
            ä»»ä½•å…¨å±€å‡½æ•°åº”è¯¥æœ‰ä¸€ä¸ª"amd"çš„å±æ€§,å®ƒçš„å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚
            è¿™æ ·å¯ä»¥é˜²æ­¢ä¸ç°æœ‰çš„å®šä¹‰äº†defineå‡½æ•°ä½†ä¸éµä»AMDç¼–ç¨‹æ¥å£çš„ä»£ç ç›¸å†²çªã€‚
          å½“å‰,define.amdå¯¹è±¡çš„å±æ€§æ²¡æœ‰åŒ…å«åœ¨æœ¬è§„èŒƒä¸­ã€‚å®ç°æœ¬è§„èŒƒçš„ä½œè€…,å¯ä»¥ç”¨å®ƒé€šçŸ¥è¶…å‡ºæœ¬è§„èŒƒç¼–ç¨‹æ¥å£åŸºæœ¬å®ç°çš„é¢å¤–èƒ½åŠ›ã€‚
          define.amdçš„å­˜åœ¨è¡¨æ˜å‡½æ•°éµå¾ªæœ¬è§„èŒƒã€‚å¦‚æœæœ‰å¦å¤–ä¸€ä¸ªç‰ˆæœ¬çš„ç¼–ç¨‹æ¥å£,é‚£ä¹ˆåº”è¯¥å®šä¹‰å¦å¤–ä¸€ä¸ªå±æ€§,å¦‚define.amd2,è¡¨æ˜å®ç°åªéµå¾ªè¯¥ç‰ˆæœ¬çš„ç¼–ç¨‹æ¥å£ã€‚
          e.g.:
            ä¸€ä¸ªå¦‚ä½•å®šä¹‰åŒä¸€ä¸ªç¯å¢ƒä¸­å…è®¸å¤šæ¬¡åŠ è½½åŒä¸€ä¸ªç‰ˆæœ¬çš„æ¨¡å—çš„å®ç°ï¼š
            define.amd = {
              multiversion: true
            };
            æœ€ç®€çŸ­çš„å®šä¹‰ï¼š
            define.amd = {};
          ä¸€æ¬¡è¾“å‡ºå¤šä¸ªæ¨¡å—
            åœ¨ä¸€ä¸ªè„šæœ¬ä¸­å¯ä»¥ä½¿ç”¨å¤šæ¬¡defineè°ƒç”¨ã€‚è¿™äº›defineè°ƒç”¨çš„é¡ºåºä¸åº”è¯¥æ˜¯é‡è¦çš„ã€‚æ—©ä¸€äº›çš„æ¨¡å—å®šä¹‰ä¸­æ‰€æŒ‡å®šçš„ä¾èµ–,å¯ä»¥åœ¨åŒä¸€è„šæœ¬ä¸­æ™šä¸€äº›å®šä¹‰ã€‚æ¨¡å—åŠ è½½å™¨è´Ÿè´£å»¶è¿ŸåŠ è½½æœªè§£å†³çš„ä¾èµ–,ç›´åˆ°å…¨éƒ¨è„šæœ¬åŠ è½½å®Œæ¯•,é˜²æ­¢æ²¡å¿…è¦çš„è¯·æ±‚ã€‚
        e.g.:
          ä½¿ç”¨ require å’Œ exports
          åˆ›å»ºä¸€ä¸ªåä¸º"alpha"çš„æ¨¡å—,ä½¿ç”¨äº†require,exports,å’Œåä¸º"beta"çš„æ¨¡å—:
          define("alpha", ["require", "exports", "beta"], function (require, exports, beta) {
               exports.verb = function() {
                   return beta.verb();
                   //Or:
                   return require("beta").verb();
               }
           });
          ä¸€ä¸ªè¿”å›å¯¹è±¡çš„åŒ¿åæ¨¡å—ï¼š
          define(["alpha"], function (alpha) {
            return {
              verb: function(){
                return alpha.verb() + 2;
              }
            };
          });
          ä¸€ä¸ªæ²¡æœ‰ä¾èµ–æ€§çš„æ¨¡å—å¯ä»¥ç›´æ¥å®šä¹‰å¯¹è±¡ï¼š
          define({
            add: function(x, y){
              return x + y;
            }
          });
          ä¸€ä¸ªä½¿ç”¨äº†ç®€å•CommonJSè½¬æ¢çš„æ¨¡å—å®šä¹‰ï¼š
          define(function (require, exports, module) {
            var a = require('a'),
            b = require('b');
    
            exports.action = function () {};
          });
        å…¨å±€å˜é‡
          æœ¬è§„èŒƒä¿ç•™å…¨å±€å˜é‡"define"ä»¥ç”¨æ¥å®ç°æœ¬è§„èŒƒã€‚åŒ…é¢å¤–ä¿¡æ¯å¼‚æ­¥å®šä¹‰ç¼–ç¨‹æ¥å£æ˜¯ä¸ºå°†æ¥çš„CommonJS APIä¿ç•™çš„ã€‚æ¨¡å—åŠ è½½å™¨ä¸åº”åœ¨æ­¤å‡½æ•°æ·»åŠ é¢å¤–çš„æ–¹æ³•æˆ–å±æ€§ã€‚
          æœ¬è§„èŒƒä¿ç•™å…¨å±€å˜é‡"require"è¢«æ¨¡å—åŠ è½½å™¨ä½¿ç”¨ã€‚æ¨¡å—åŠ è½½å™¨å¯ä»¥åœ¨åˆé€‚çš„æƒ…å†µä¸‹è‡ªç”±åœ°ä½¿ç”¨è¯¥å…¨å±€å˜é‡ã€‚å®ƒå¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜é‡æˆ–æ·»åŠ ä»»ä½•å±æ€§ä»¥å®Œæˆæ¨¡å—åŠ è½½å™¨çš„ç‰¹å®šåŠŸèƒ½ã€‚å®ƒåŒæ ·ä¹Ÿå¯ä»¥é€‰æ‹©å®Œå…¨ä¸ä½¿ç”¨"require"ã€‚
        ä½¿ç”¨æ³¨æ„
          ä¸ºäº†ä½¿é™æ€åˆ†æå·¥å…·ï¼ˆå¦‚buildå·¥å…·ï¼‰å¯ä»¥æ­£å¸¸å·¥ä½œ,æ¨èä½¿ç”¨å­—é¢ä¸Šå½¢å¦‚çš„'define(...)'ã€‚
        ä¸CommonJSçš„å…³ç³»
          ä¸€ä¸ªå…³äºæœ¬APIçš„wikiå¼€å§‹åœ¨CommonJS wikiä¸­åˆ›å»ºäº†,ä½œä¸ºä¸­è½¬çš„æ ¼å¼,æ¨¡å—ä¸­è½¬ã€‚ä½†æ˜¯ä¸ºäº†åŒ…å«æ¨¡å—å®šä¹‰æ¥å£,éšç€æ—¶é—´è€Œä¸æ–­æ”¹å˜ã€‚åœ¨CommonJSåˆ—è¡¨ä¸­å…³äºæ¨èæœ¬APIä½œä¸ºæ¨¡å—å®šä¹‰APIå°šæœªè¾¾æˆä¸€è‡´ã€‚æœ¬APIè¢«è½¬ç§»åˆ°å®ƒè‡ªå·±çš„wikiå’Œè®¨è®ºç»„ä¸­ã€‚
          AMDå¯ä»¥ä½œä¸ºCommonJSæ¨¡å—ä¸€ä¸ªä¸­è½¬çš„ç‰ˆæœ¬åªè¦CommonJSæ²¡æœ‰è¢«ç”¨æ¥åŒæ­¥çš„requireè°ƒç”¨ã€‚ä½¿ç”¨åŒæ­¥requireè°ƒç”¨çš„CommonJSä»£ç å¯ä»¥è¢«è½¬æ¢ä¸ºä½¿ç”¨å›è°ƒé£æ ¼çš„AMDæ¨¡å—åŠ è½½å™¨ã€‚
    CMD,Common Module Definition é€šç”¨æ¨¡å—å®šä¹‰,ä¾èµ–å°±è¿‘
      PS:ä¸»è¦å®ç°æœ‰ SeaJS, SeaJSçš„åˆ›å§‹äººä¸ºé˜¿é‡Œçš„ç‰ä¼¯
        SeaJSåœ¨é˜¿é‡Œç³»ç”¨çš„éå¸¸å¹¿æ³›,åŒ…æ‹¬äº¬ä¸œç­‰ä¹Ÿåœ¨ç”¨SeaJS
        ä½†æ˜¯SeaJSå·²ç»åœæ­¢ç»´æŠ¤äº†,å› ä¸ºåœ¨ES6ä¸­å·²ç»æœ‰äº†æ¨¡å—åŒ–çš„å®ç°,
        è¯¥è§„èŒƒæ˜ç¡®äº†æ¨¡å—çš„åŸºæœ¬ä¹¦å†™æ ¼å¼å’ŒåŸºæœ¬äº¤äº’è§„åˆ™ã€‚
        åœ¨ CMD è§„èŒƒä¸­,ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚ ä»£ç çš„ä¹¦å†™æ ¼å¼å¦‚ä¸‹ï¼š define(factory);
      define Function
        define æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°,ç”¨æ¥å®šä¹‰æ¨¡å—ã€‚
      define define(factory)
        define æ¥å— factory å‚æ•°,factory å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°,ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–å­—ç¬¦ä¸²ã€‚
        factory ä¸ºå¯¹è±¡ã€å­—ç¬¦ä¸²æ—¶,è¡¨ç¤ºæ¨¡å—çš„æ¥å£å°±æ˜¯è¯¥å¯¹è±¡ã€å­—ç¬¦ä¸²ã€‚
        æ¯”å¦‚å¯ä»¥å¦‚ä¸‹å®šä¹‰ä¸€ä¸ª JSON æ•°æ®æ¨¡å—ï¼š
        define({ "foo": "bar" });
        ä¹Ÿå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å®šä¹‰æ¨¡æ¿æ¨¡å—ï¼š
        define('I am a template. My name is {{name}}.');
        factory ä¸ºå‡½æ•°æ—¶,è¡¨ç¤ºæ˜¯æ¨¡å—çš„æ„é€ æ–¹æ³•ã€‚æ‰§è¡Œè¯¥æ„é€ æ–¹æ³•,å¯ä»¥å¾—åˆ°æ¨¡å—å‘å¤–æä¾›çš„æ¥å£ã€‚factory æ–¹æ³•åœ¨æ‰§è¡Œæ—¶,é»˜è®¤ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šrequireã€exports å’Œ moduleï¼š
        define(function(require, exports, module) { /*æ¨¡å—ä»£ç */ });
      define define(id?, deps?, factory)
        define ä¹Ÿå¯ä»¥æ¥å—ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ã€‚å­—ç¬¦ä¸² id è¡¨ç¤ºæ¨¡å—æ ‡è¯†,æ•°ç»„ deps æ˜¯æ¨¡å—ä¾èµ–ã€‚æ¯”å¦‚ï¼š
        define('hello', ['jquery'], function(require, exports, module) { /*æ¨¡å—ä»£ç */ });
        id å’Œ deps å‚æ•°å¯ä»¥çœç•¥ã€‚çœç•¥æ—¶,å¯ä»¥é€šè¿‡æ„å»ºå·¥å…·è‡ªåŠ¨ç”Ÿæˆã€‚
        æ³¨æ„ï¼šå¸¦ id å’Œ deps å‚æ•°çš„ define ç”¨æ³•ä¸å±äº CMD è§„èŒƒ,è€Œå±äº Modules/Transport è§„èŒƒã€‚
      define.cmd Object
        ä¸€ä¸ªç©ºå¯¹è±¡,å¯ç”¨æ¥åˆ¤å®šå½“å‰é¡µé¢æ˜¯å¦æœ‰ CMD æ¨¡å—åŠ è½½å™¨ï¼š
        if (typeof define === "function" && define.cmd) {
          /*æœ‰ Sea.js ç­‰ CMD æ¨¡å—åŠ è½½å™¨å­˜åœ¨*/
        }
      require Function
        require æ˜¯ factory å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚
      require require(id)
        require æ˜¯ä¸€ä¸ªæ–¹æ³•,æ¥å— æ¨¡å—æ ‡è¯† ä½œä¸ºå”¯ä¸€å‚æ•°,ç”¨æ¥è·å–å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£ã€‚
        define(function(require, exports) {
          // è·å–æ¨¡å— a çš„æ¥å£
          var a = require('./a');
          // è°ƒç”¨æ¨¡å— a çš„æ–¹æ³•
          a.doSomething();
        });
        æ³¨æ„ï¼šåœ¨å¼€å‘æ—¶,require çš„ä¹¦å†™éœ€è¦éµå¾ªä¸€äº› ç®€å•çº¦å®šã€‚
      require.async require.async(id, callback?)
        require.async æ–¹æ³•ç”¨æ¥åœ¨æ¨¡å—å†…éƒ¨å¼‚æ­¥åŠ è½½æ¨¡å—,å¹¶åœ¨åŠ è½½å®Œæˆåæ‰§è¡ŒæŒ‡å®šå›è°ƒã€‚callback å‚æ•°å¯é€‰ã€‚
        define(function(require, exports, module) {
          // å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
          require.async('./b', function(b) {
            b.doSomething();
          });
          // å¼‚æ­¥åŠ è½½å¤šä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
          require.async(['./c', './d'], function(c, d) {
            c.doSomething();
            d.doSomething();
          });
        });
        æ³¨æ„ï¼šrequire æ˜¯åŒæ­¥å¾€ä¸‹æ‰§è¡Œ,require.async åˆ™æ˜¯å¼‚æ­¥å›è°ƒæ‰§è¡Œã€‚require.async ä¸€èˆ¬ç”¨æ¥åŠ è½½å¯å»¶è¿Ÿå¼‚æ­¥åŠ è½½çš„æ¨¡å—ã€‚
      require.resolve require.resolve(id)
        ä½¿ç”¨æ¨¡å—ç³»ç»Ÿå†…éƒ¨çš„è·¯å¾„è§£ææœºåˆ¶æ¥è§£æå¹¶è¿”å›æ¨¡å—è·¯å¾„ã€‚è¯¥å‡½æ•°ä¸ä¼šåŠ è½½æ¨¡å—,åªè¿”å›è§£æåçš„ç»å¯¹è·¯å¾„ã€‚
        define(function(require, exports) {
          console.log(require.resolve('./b'));
          // ==> http://example.com/path/to/b.js
        });
        è¿™å¯ä»¥ç”¨æ¥è·å–æ¨¡å—è·¯å¾„,ä¸€èˆ¬ç”¨åœ¨æ’ä»¶ç¯å¢ƒæˆ–éœ€åŠ¨æ€æ‹¼æ¥æ¨¡å—è·¯å¾„çš„åœºæ™¯ä¸‹ã€‚
      exports Object
        exports æ˜¯ä¸€ä¸ªå¯¹è±¡,ç”¨æ¥å‘å¤–æä¾›æ¨¡å—æ¥å£ã€‚
        define(function(require, exports) {
          // å¯¹å¤–æä¾› foo å±æ€§
          exports.foo = 'bar';
          // å¯¹å¤–æä¾› doSomething æ–¹æ³•
          exports.doSomething = function() {};
        });
        é™¤äº†ç»™ exports å¯¹è±¡å¢åŠ æˆå‘˜,è¿˜å¯ä»¥ä½¿ç”¨ return ç›´æ¥å‘å¤–æä¾›æ¥å£ã€‚
        define(function(require) {
          // é€šè¿‡ return ç›´æ¥æä¾›æ¥å£
          return {
            foo: 'bar',
            doSomething: function() {}
          };
        });
        å¦‚æœ return è¯­å¥æ˜¯æ¨¡å—ä¸­çš„å”¯ä¸€ä»£ç ,è¿˜å¯ç®€åŒ–ä¸ºï¼š
        define({
          foo: 'bar',
          doSomething: function() {}
        });
        ä¸Šé¢è¿™ç§æ ¼å¼ç‰¹åˆ«é€‚åˆå®šä¹‰ JSONP æ¨¡å—ã€‚
        ç‰¹åˆ«æ³¨æ„ï¼šä¸‹é¢è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ï¼
        define(function(require, exports) {
          // é”™è¯¯ç”¨æ³•ï¼ï¼!
          exports = {
            foo: 'bar',
            doSomething: function() {}
          };
        });
        æ­£ç¡®çš„å†™æ³•æ˜¯ç”¨ return æˆ–è€…ç»™ module.exports èµ‹å€¼ï¼š
        define(function(require, exports, module) {
          // æ­£ç¡®å†™æ³•
          module.exports = {
            foo: 'bar',
            doSomething: function() {}
          };
        });
        æç¤ºï¼šexports ä»…ä»…æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ã€‚åœ¨ factory å†…éƒ¨ç»™ exports é‡æ–°èµ‹å€¼æ—¶,å¹¶ä¸ä¼šæ”¹å˜ module.exports çš„å€¼ã€‚å› æ­¤ç»™ exports èµ‹å€¼æ˜¯æ— æ•ˆçš„,ä¸èƒ½ç”¨æ¥æ›´æ”¹æ¨¡å—æ¥å£ã€‚
      module Object
        module æ˜¯ä¸€ä¸ªå¯¹è±¡,ä¸Šé¢å­˜å‚¨äº†ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚
      module.id String
    
        æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ã€‚
    
        define('id', [], function(require, exports, module) {
    
          // æ¨¡å—ä»£ç 
    
        });
        ä¸Šé¢ä»£ç ä¸­,define çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯æ¨¡å—æ ‡è¯†ã€‚
      module.uri String
        æ ¹æ®æ¨¡å—ç³»ç»Ÿçš„è·¯å¾„è§£æè§„åˆ™å¾—åˆ°çš„æ¨¡å—ç»å¯¹è·¯å¾„ã€‚
    
        define(function(require, exports, module) {
    
          console.log(module.uri);
          // ==> http://example.com/path/to/this/file.js
    
        });
        ä¸€èˆ¬æƒ…å†µä¸‹ï¼ˆæ²¡æœ‰åœ¨ define ä¸­æ‰‹å†™ id å‚æ•°æ—¶ï¼‰,module.id çš„å€¼å°±æ˜¯ module.uri,ä¸¤è€…å®Œå…¨ç›¸åŒã€‚
      module.dependencies Array
        dependencies æ˜¯ä¸€ä¸ªæ•°ç»„,è¡¨ç¤ºå½“å‰æ¨¡å—çš„ä¾èµ–ã€‚
      module.exports Object
        å½“å‰æ¨¡å—å¯¹å¤–æä¾›çš„æ¥å£ã€‚
    
        ä¼ ç»™ factory æ„é€ æ–¹æ³•çš„ exports å‚æ•°æ˜¯ module.exports å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ã€‚åªé€šè¿‡ exports å‚æ•°æ¥æä¾›æ¥å£,æœ‰æ—¶æ— æ³•æ»¡è¶³å¼€å‘è€…çš„æ‰€æœ‰éœ€æ±‚ã€‚ æ¯”å¦‚å½“æ¨¡å—çš„æ¥å£æ˜¯æŸä¸ªç±»çš„å®ä¾‹æ—¶,éœ€è¦é€šè¿‡ module.exports æ¥å®ç°ï¼š
    
        define(function(require, exports, module) {
    
          // exports æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨
          console.log(module.exports === exports); // true
    
          // é‡æ–°ç»™ module.exports èµ‹å€¼
          module.exports = new SomeClass();
    
          // exports ä¸å†ç­‰äº module.exports
          console.log(module.exports === exports); // false
    
        });
        æ³¨æ„ï¼šå¯¹ module.exports çš„èµ‹å€¼éœ€è¦åŒæ­¥æ‰§è¡Œ,ä¸èƒ½æ”¾åœ¨å›è°ƒå‡½æ•°é‡Œã€‚ä¸‹é¢è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼š
    
        // x.js
        define(function(require, exports, module) {
    
          // é”™è¯¯ç”¨æ³•
          setTimeout(function() {
            module.exports = { a: "hello" };
          }, 0);
    
        });
        åœ¨ y.js é‡Œæœ‰è°ƒç”¨åˆ°ä¸Šé¢çš„ x.js:
    
        // y.js
        define(function(require, exports, module) {
    
          var x = require('./x');
    
          // æ— æ³•ç«‹åˆ»å¾—åˆ°æ¨¡å— x çš„å±æ€§ a
          console.log(x.a); // undefined
    
        });
      å°ç»“
        è¿™å°±æ˜¯ CMD æ¨¡å—å®šä¹‰è§„èŒƒçš„æ‰€æœ‰å†…å®¹ã€‚ç»å¸¸ä½¿ç”¨çš„ API åªæœ‰ define, require, require.async, exports, module.exports è¿™äº”ä¸ªã€‚å…¶ä»– API æœ‰ä¸ªå°è±¡å°±å¥½,åœ¨éœ€è¦æ—¶å†æ¥æŸ¥æ–‡æ¡£,ä¸ç”¨åˆ»æ„å»è®°ã€‚
        ä¸ RequireJS çš„ AMD è§„èŒƒç›¸æ¯”,CMD è§„èŒƒå°½é‡ä¿æŒç®€å•,å¹¶ä¸ CommonJS å’Œ Node.js çš„ Modules è§„èŒƒä¿æŒäº†å¾ˆå¤§çš„å…¼å®¹æ€§ã€‚é€šè¿‡ CMD è§„èŒƒä¹¦å†™çš„æ¨¡å—,å¯ä»¥å¾ˆå®¹æ˜“åœ¨ Node.js ä¸­è¿è¡Œ,åç»­ä¼šä»‹ç»ã€‚
    SeaJs
      PS:æ˜¯ä¸€åŸºäº CMD è§„èŒƒå®ç°çš„æ¨¡å—åŒ–å¼€å‘è§£å†³æ–¹æ¡ˆ.
        ä½œè€…ï¼šAlibaba ç‰ä¼¯
        ç®€å•å‹å¥½çš„æ¨¡å—åŒ–å®šä¹‰è§„èŒƒã€‚
        è‡ªç„¶ç›´è§‚çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚
      ä½¿ç”¨æ­¥éª¤
        å¼•å…¥sea.jsåº“
        define å®šä¹‰æ¨¡å—
          PS:åœ¨CMDè§„èŒƒä¸­,ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶
            define æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°,ç”¨æ¥å®šä¹‰æ¨¡å—
          define(factory)
            å‚æ•° factoryå¯ä¸ºå­—ç¬¦ä¸²ã€å¯¹è±¡æˆ–å‡½æ•°
              define(function(require, exports, module){
                // æ¨¡å—ä»£ç 
              });
              define(obj);
              define(str);
            æ³¨æ„ï¼šä¸ºäº†å‡å°‘å‡ºé”™,å®šä¹‰å‡½æ•°çš„æ—¶å€™ç›´æ¥æŠŠè¿™ä¸‰ä¸ªå‚æ•°å†™ä¸Š
            factoryä¸ºå¯¹è±¡ã€å­—ç¬¦ä¸²æ—¶,è¡¨ç¤ºæ¨¡å—çš„æ¥å£å°±æ˜¯è¯¥å¯¹è±¡ã€å­—ç¬¦ä¸²
              æ¯”å¦‚å¯ä»¥å¦‚ä¸‹å®šä¹‰ä¸€ä¸ª JSON æ•°æ®æ¨¡å—ï¼š
              define({ "foo": "bar" });
              ä¹Ÿå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å®šä¹‰æ¨¡æ¿æ¨¡å—ï¼š
              define('I am a template. My name is {{name}}.');
            factoryä¸ºå‡½æ•°æ—¶,è¡¨ç¤ºæ˜¯æ¨¡å—çš„æ„é€ æ–¹æ³•ã€‚æ‰§è¡Œè¯¥æ„é€ æ–¹æ³•,å¯ä»¥å¾—åˆ°æ¨¡å—å‘å¤–æä¾›çš„æ¥å£ã€‚factoryæ–¹æ³•åœ¨æ‰§è¡Œæ—¶,é»˜è®¤ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šrequireã€exportså’Œ moduleï¼š

          define(function(require, exports, module) { // æ¨¡å—ä»£ç });
          define define(id?, deps?, factory)

          ã€€ã€€defineä¹Ÿå¯ä»¥æ¥å—ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ã€‚å­—ç¬¦ä¸² idè¡¨ç¤ºæ¨¡å—æ ‡è¯†,æ•°ç»„ depsæ˜¯æ¨¡å—ä¾èµ–ã€‚æ¯”å¦‚ï¼š

          define('hello', ['jquery'], function(require, exports, module) { // æ¨¡å—ä»£ç });
          ã€€ã€€idå’Œ depså‚æ•°å¯ä»¥çœç•¥ã€‚çœç•¥æ—¶,å¯ä»¥é€šè¿‡æ„å»ºå·¥å…·è‡ªåŠ¨ç”Ÿæˆã€‚
          ã€€ã€€æ³¨æ„ï¼šå¸¦ idå’Œ depså‚æ•°çš„ defineç”¨æ³•ä¸å±äº CMD è§„èŒƒ,è€Œå±äº Modules/Transport è§„èŒƒã€‚

          define.cmd Object

          ã€€ã€€ä¸€ä¸ªç©ºå¯¹è±¡,å¯ç”¨æ¥åˆ¤å®šå½“å‰é¡µé¢æ˜¯å¦æœ‰ CMD æ¨¡å—åŠ è½½å™¨ï¼š

          if (typeof define === "function" && define.cmd) {
              // æœ‰ Sea.js ç­‰ CMD æ¨¡å—åŠ è½½å™¨å­˜åœ¨
          }
          require Function

          ã€€ã€€requireæ˜¯ factoryå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚

          require require(id)

          ã€€ã€€requireæ˜¯ä¸€ä¸ªæ–¹æ³•,æ¥å— æ¨¡å—æ ‡è¯† ä½œä¸ºå”¯ä¸€å‚æ•°,ç”¨æ¥è·å–å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£ã€‚

          define(function(require, exports) {
            // è·å–æ¨¡å— a çš„æ¥å£
            var a = require('./a');
            // è°ƒç”¨æ¨¡å— a çš„æ–¹æ³•
            a.doSomething();
          });
          æ³¨æ„ï¼šåœ¨å¼€å‘æ—¶,requireçš„ä¹¦å†™éœ€è¦éµå¾ªä¸€äº› ç®€å•çº¦å®šã€‚

          require.async  require.async(id, callback?)

          ã€€ã€€require.asyncæ–¹æ³•ç”¨æ¥åœ¨æ¨¡å—å†…éƒ¨å¼‚æ­¥åŠ è½½æ¨¡å—,å¹¶åœ¨åŠ è½½å®Œæˆåæ‰§è¡ŒæŒ‡å®šå›è°ƒã€‚callbackå‚æ•°å¯é€‰ã€‚

          define(function(require, exports, module) {
            // å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
            require.async('./b', function(b) {
              b.doSomething();
            });

            // å¼‚æ­¥åŠ è½½å¤šä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
            require.async(['./c', './d'], function(c, d) {
              c.doSomething();
              d.doSomething();
            });
          });
          æ³¨æ„ï¼šrequireæ˜¯åŒæ­¥å¾€ä¸‹æ‰§è¡Œ,require.asyncåˆ™æ˜¯å¼‚æ­¥å›è°ƒæ‰§è¡Œã€‚require.async ä¸€èˆ¬ç”¨æ¥åŠ è½½å¯å»¶è¿Ÿå¼‚æ­¥åŠ è½½çš„æ¨¡å—ã€‚

          require.resolve  require.resolve(id)

          ã€€ã€€ä½¿ç”¨æ¨¡å—ç³»ç»Ÿå†…éƒ¨çš„è·¯å¾„è§£ææœºåˆ¶æ¥è§£æå¹¶è¿”å›æ¨¡å—è·¯å¾„ã€‚è¯¥å‡½æ•°ä¸ä¼šåŠ è½½æ¨¡å—,åªè¿”å›è§£æåçš„ç»å¯¹è·¯å¾„ã€‚

          define(function(require, exports) {
            console.log(require.resolve('./b'));
            // ==> http://example.com/path/to/b.js
          });
          ã€€ã€€è¿™å¯ä»¥ç”¨æ¥è·å–æ¨¡å—è·¯å¾„,ä¸€èˆ¬ç”¨åœ¨æ’ä»¶ç¯å¢ƒæˆ–éœ€åŠ¨æ€æ‹¼æ¥æ¨¡å—è·¯å¾„çš„åœºæ™¯ä¸‹ã€‚
        æš´éœ²æ¥å£
          exports
          module.exports
        ä¾èµ–æ¨¡å—
          require(â€˜æ¨¡å—idâ€™)
        å¯åŠ¨æ¨¡å—ç³»ç»Ÿ
          seajs.use(â€˜æ¨¡å—idâ€™,function( æ¨¡å—å¯¹è±¡ ){ ä¸šåŠ¡ä»£ç  });
        e.g.:
          01-convertor.js ä¸­
            // å®šä¹‰æ¨¡å—
            define(function (require, exports, module) {
              // æš´éœ²æ¥å£
              exports.convertToNumber = function (input) {
                return parseFloat(input);
              }
            });
          01-calculator.js ä¸­
            define(function (require, exports, module) {
              // æ­¤å¤„æ˜¯æ¨¡å—çš„ç§æœ‰ç©ºé—´,å®šä¹‰æ¨¡å—çš„ç§æœ‰æˆå‘˜
              // è½½å…¥01-convertoræ¨¡å—
              var convertor = require('./01-convertor');
              function add(a, b) {
                return convertor.convertToNumber(a) + convertor.convertToNumber(b);
              }
              exports.add = add;
            });
          01-helloworld.html ä¸­
            <!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <title>Title</title>
              <script src="node_modules/seajs/dist/sea.js"></script>
              <script>
                seajs.use('./01-calculator.js', function (calculator) {
                  alert(calculator.add(1,2));
                });
              </script>
            </head>
            <body>
            </body>
            </html>
      å®šä¹‰æ¨¡å—define
        PS:å…ˆæœ‰è§„èŒƒ,åæœ‰å®ç°
          åœ¨CMDè§„èŒƒä¸­,ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªjsæ–‡ä»¶
        define(factory)   defineæ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°,ç”¨æ¥å®šä¹‰æ¨¡å—
          å¯¹è±¡{}     å¤–éƒ¨ä¼šç›´æ¥è·å–åˆ°è¯¥å¯¹è±¡
          å­—ç¬¦ä¸²''   åŒä¸Š
          å‡½æ•°function( require, exports, module ){ // æ¨¡å—ä»£ç  }
            æ³¨æ„ï¼šä¸ºäº†å‡å°‘å‡ºé”™,å®šä¹‰å‡½æ•°çš„æ—¶å€™ç›´æ¥æŠŠè¿™ä¸‰ä¸ªå‚æ•°å†™ä¸Š
          factoryä¸ºå¯¹è±¡ã€å­—ç¬¦ä¸²æ—¶,è¡¨ç¤ºæ¨¡å—çš„æ¥å£å°±æ˜¯è¯¥å¯¹è±¡ã€å­—ç¬¦ä¸²ã€‚
          æ¯”å¦‚å¯ä»¥å¦‚ä¸‹å®šä¹‰ä¸€ä¸ª JSON æ•°æ®æ¨¡å—ï¼š
            define({ "foo": "bar" });
          ä¹Ÿå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²å®šä¹‰æ¨¡æ¿æ¨¡å—ï¼š
            define('I am a template. My name is {{name}}.');
          factoryä¸ºå‡½æ•°æ—¶,è¡¨ç¤ºæ˜¯æ¨¡å—çš„æ„é€ æ–¹æ³•ã€‚
            æ‰§è¡Œè¯¥æ„é€ æ–¹æ³•,å¯ä»¥å¾—åˆ°æ¨¡å—å‘å¤–æä¾›çš„æ¥å£ã€‚
            factoryæ–¹æ³•åœ¨æ‰§è¡Œæ—¶,é»˜è®¤ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šrequireã€exportså’Œ moduleï¼š
            define(function(require, exports, module) { // æ¨¡å—ä»£ç });
            define define(id?, deps?, factory)
            defineä¹Ÿå¯ä»¥æ¥å—ä¸¤ä¸ªä»¥ä¸Šå‚æ•°ã€‚å­—ç¬¦ä¸² idè¡¨ç¤ºæ¨¡å—æ ‡è¯†,æ•°ç»„ depsæ˜¯æ¨¡å—ä¾èµ–ã€‚
            æ¯”å¦‚ï¼š
            define('hello', ['jquery'], function(require, exports, module) { 
              // æ¨¡å—ä»£ç 
            });
          idå’Œ depså‚æ•°å¯ä»¥çœç•¥ã€‚çœç•¥æ—¶,å¯ä»¥é€šè¿‡æ„å»ºå·¥å…·è‡ªåŠ¨ç”Ÿæˆã€‚
          æ³¨æ„ï¼š
            å¸¦ idå’Œ depså‚æ•°çš„ defineç”¨æ³•ä¸å±äº CMD è§„èŒƒ,
            è€Œå±äº Modules/Transport è§„èŒƒã€‚
        define.cmd  ä¸€ä¸ªç©ºå¯¹è±¡,å¯ç”¨æ¥åˆ¤å®šå½“å‰é¡µé¢æ˜¯å¦æœ‰ CMD æ¨¡å—åŠ è½½å™¨ï¼š
          if (typeof define === "function" && define.cmd) { 
            // æœ‰ Sea.js ç­‰ CMD æ¨¡å—åŠ è½½å™¨å­˜åœ¨
          }
        require  requireæ˜¯ factoryå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚
        require(id) requireæ˜¯ä¸€ä¸ªæ–¹æ³•
          æ¥å— æ¨¡å—æ ‡è¯† ä½œä¸ºå”¯ä¸€å‚æ•°,ç”¨æ¥è·å–å…¶ä»–æ¨¡å—æä¾›çš„æ¥å£ã€‚
          define(function(require, exports) { 
          // è·å–æ¨¡å— a çš„æ¥å£ 
          var a = require('./a'); 
          // è°ƒç”¨æ¨¡å— a çš„æ–¹æ³• 
          a.doSomething();
          });
          æ³¨æ„ï¼šåœ¨å¼€å‘æ—¶,requireçš„ä¹¦å†™éœ€è¦éµå¾ªä¸€äº› ç®€å•çº¦å®šã€‚
        require.async(id, callback?)
          require.async æ–¹æ³•ç”¨æ¥åœ¨æ¨¡å—å†…éƒ¨å¼‚æ­¥åŠ è½½æ¨¡å—,å¹¶åœ¨åŠ è½½å®Œæˆåæ‰§è¡ŒæŒ‡å®šå›è°ƒã€‚
          callbackå‚æ•°å¯é€‰ã€‚
          define(function(require, exports, module) {
          // å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
          require.async('./b', function(b) {
            b.doSomething();
          });

          // å¼‚æ­¥åŠ è½½å¤šä¸ªæ¨¡å—,åœ¨åŠ è½½å®Œæˆæ—¶,æ‰§è¡Œå›è°ƒ
          require.async(['./c', './d'], function(c, d) {
            c.doSomething();
            d.doSomething();
          });
          });
          æ³¨æ„ï¼šrequireæ˜¯åŒæ­¥å¾€ä¸‹æ‰§è¡Œ,require.asyncåˆ™æ˜¯å¼‚æ­¥å›è°ƒæ‰§è¡Œã€‚require.async ä¸€èˆ¬ç”¨æ¥åŠ è½½å¯å»¶è¿Ÿå¼‚æ­¥åŠ è½½çš„æ¨¡å—ã€‚
        require.resolve(id)  ä½¿ç”¨æ¨¡å—ç³»ç»Ÿå†…éƒ¨çš„è·¯å¾„è§£ææœºåˆ¶æ¥è§£æå¹¶è¿”å›æ¨¡å—è·¯å¾„ã€‚
          è¯¥å‡½æ•°ä¸ä¼šåŠ è½½æ¨¡å—,åªè¿”å›è§£æåçš„ç»å¯¹è·¯å¾„ã€‚
          define(function(require, exports) {
          console.log(require.resolve('./b'));
          // ==> http://example.com/path/to/b.js
          });
          ã€€ã€€è¿™å¯ä»¥ç”¨æ¥è·å–æ¨¡å—è·¯å¾„,ä¸€èˆ¬ç”¨åœ¨æ’ä»¶ç¯å¢ƒæˆ–éœ€åŠ¨æ€æ‹¼æ¥æ¨¡å—è·¯å¾„çš„åœºæ™¯ä¸‹ã€‚
      exports å’Œ module.exports
        åŠŸèƒ½:é€šè¿‡ç»™ exportsæˆ–module.exportsåŠ¨æ€çš„æŒ‚è½½å˜é‡ã€å‡½æ•°æˆ–å¯¹è±¡,å¤–éƒ¨ä¼šè·å–åˆ°è¯¥æ¥å£
        exports ç­‰ä»·äº module.exports
        å¯ä»¥é€šè¿‡å¤šæ¬¡ç»™exports æŒ‚è½½å±æ€§å‘å¤–æš´éœ²
        ä¸èƒ½ç›´æ¥ç»™ exports èµ‹å€¼
        å¦‚æœæƒ³æš´éœ²å•ä¸ªå˜é‡ã€å‡½æ•°æˆ–å¯¹è±¡å¯ä»¥é€šè¿‡ç›´æ¥ç»™module.exports èµ‹å€¼ å³å¯
      exports exportsæ˜¯ä¸€ä¸ªå¯¹è±¡,ç”¨æ¥å‘å¤–æä¾›æ¨¡å—æ¥å£ã€‚
        define(function(require, exports) {
        // å¯¹å¤–æä¾› foo å±æ€§
        exports.foo = 'bar';

        // å¯¹å¤–æä¾› doSomething æ–¹æ³•
        exports.doSomething = function() {};
        });
        ã€€ã€€é™¤äº†ç»™ exportså¯¹è±¡å¢åŠ æˆå‘˜,è¿˜å¯ä»¥ä½¿ç”¨ returnç›´æ¥å‘å¤–æä¾›æ¥å£ã€‚

        define(function(require) {
        // é€šè¿‡ return ç›´æ¥æä¾›æ¥å£
        return {
          foo: 'bar',
          doSomething: function() {}
        };
        });
        ã€€ã€€å¦‚æœ returnè¯­å¥æ˜¯æ¨¡å—ä¸­çš„å”¯ä¸€ä»£ç ,è¿˜å¯ç®€åŒ–ä¸ºï¼š

        define({
        foo: 'bar',
        doSomething: function() {}
        });
        ã€€ã€€ä¸Šé¢è¿™ç§æ ¼å¼ç‰¹åˆ«é€‚åˆå®šä¹‰ JSONP æ¨¡å—ã€‚

        ç‰¹åˆ«æ³¨æ„ï¼šä¸‹é¢è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ï¼

        define(function(require, exports) {
        // é”™è¯¯ç”¨æ³•ï¼ï¼!
        exports = {
          foo: 'bar',
          doSomething: function() {}
        };
        });
        æ­£ç¡®çš„å†™æ³•æ˜¯ç”¨ returnæˆ–è€…ç»™ module.exportsèµ‹å€¼ï¼š

        define(function(require, exports, module) {
        // æ­£ç¡®å†™æ³•
        module.exports = {
          foo: 'bar',
          doSomething: function() {}
        };
        });
        æç¤ºï¼šexports ä»…ä»…æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨ã€‚åœ¨ factory å†…éƒ¨ç»™ exports é‡æ–°èµ‹å€¼æ—¶,å¹¶ä¸ä¼šæ”¹å˜ module.exports çš„å€¼ã€‚å› æ­¤ç»™ exports èµ‹å€¼æ˜¯æ— æ•ˆçš„,ä¸èƒ½ç”¨æ¥æ›´æ”¹æ¨¡å—æ¥å£ã€‚
      module  moduleæ˜¯ä¸€ä¸ªå¯¹è±¡,ä¸Šé¢å­˜å‚¨äº†ä¸å½“å‰æ¨¡å—ç›¸å…³è”çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•ã€‚
        module.id å­—ç¬¦ä¸²,æ¨¡å—çš„å”¯ä¸€æ ‡è¯†ã€‚
          define('id', [], function(require, exports, module) { 
          // æ¨¡å—ä»£ç 
          });
          ä¸Šé¢ä»£ç ä¸­,defineçš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯æ¨¡å—æ ‡è¯†ã€‚
        module.uri å­—ç¬¦ä¸², æ ¹æ®æ¨¡å—ç³»ç»Ÿçš„è·¯å¾„è§£æè§„åˆ™å¾—åˆ°çš„æ¨¡å—ç»å¯¹è·¯å¾„ã€‚
          define(function(require, exports, module) {
          console.log(module.uri); 
          // ==> http://example.com/path/to/this/file.js
          });
          ä¸€èˆ¬æƒ…å†µä¸‹(æ²¡æœ‰åœ¨ define ä¸­æ‰‹å†™ id å‚æ•°æ—¶),module.id çš„å€¼å°±æ˜¯ module.uri,ä¸¤è€…å®Œå…¨ç›¸åŒã€‚
        module.dependencies dependenciesæ˜¯ä¸€ä¸ªæ•°ç»„,è¡¨ç¤ºå½“å‰æ¨¡å—çš„ä¾èµ–ã€‚
        module.exports    å½“å‰æ¨¡å—å¯¹å¤–æä¾›çš„æ¥å£ã€‚
          ä¼ ç»™ factory æ„é€ æ–¹æ³•çš„ exports å‚æ•°æ˜¯ module.exports å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ã€‚
          åªé€šè¿‡ exports å‚æ•°æ¥æä¾›æ¥å£,æœ‰æ—¶æ— æ³•æ»¡è¶³å¼€å‘è€…çš„æ‰€æœ‰éœ€æ±‚ã€‚
          æ¯”å¦‚å½“æ¨¡å—çš„æ¥å£æ˜¯æŸä¸ªç±»çš„å®ä¾‹æ—¶,éœ€è¦é€šè¿‡ module.exports æ¥å®ç°ï¼š
          define(function(require, exports, module) {
          // exports æ˜¯ module.exports çš„ä¸€ä¸ªå¼•ç”¨
          console.log(module.exports === exports); // true

          // é‡æ–°ç»™ module.exports èµ‹å€¼
          module.exports = new SomeClass();

          // exports ä¸å†ç­‰äº module.exports
          console.log(module.exports === exports); // false
          });
          æ³¨æ„ï¼šå¯¹ module.exports çš„èµ‹å€¼éœ€è¦åŒæ­¥æ‰§è¡Œ,ä¸èƒ½æ”¾åœ¨å›è°ƒå‡½æ•°é‡Œã€‚ä¸‹é¢è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼š
          // x.js
          define(function(require, exports, module) {
          // é”™è¯¯ç”¨æ³•
          setTimeout(function() {
            module.exports = { a: "hello" };
          }, 0);
          });
          åœ¨ y.js é‡Œæœ‰è°ƒç”¨åˆ°ä¸Šé¢çš„ x.js:

          // y.js
          define(function(require, exports, module) {
          var x = require('./x');

          // æ— æ³•ç«‹åˆ»å¾—åˆ°æ¨¡å— x çš„å±æ€§ a
          console.log(x.a); // undefined
          });
      å°ç»“
        ç»å¸¸ä½¿ç”¨çš„ API åªæœ‰ define, require, require.async, exports, module.exports äº”ä¸ªã€‚
        å…¶ä»– API æ¬¡ä¹‹,åœ¨éœ€è¦æ—¶å†æ¥æŸ¥æ–‡æ¡£,ä¸ç”¨åˆ»æ„å»è®°ã€‚
        ä¸ RequireJS çš„ AMD è§„èŒƒç›¸æ¯”,CMD è§„èŒƒå°½é‡ä¿æŒç®€å•,
        å¹¶ä¸ CommonJS å’Œ Node.js çš„ Modules è§„èŒƒä¿æŒäº†å¾ˆå¤§çš„å…¼å®¹æ€§.
        é€šè¿‡ CMD è§„èŒƒä¹¦å†™çš„æ¨¡å—,å¯ä»¥å¾ˆå®¹æ˜“åœ¨ Node.js ä¸­è¿è¡Œ
    CommonJs
      PS:SeaJs å’Œ CommonJs è§„èŒƒéå¸¸çš„ç›¸ä¼¼,å¹¶ä¸”åœ¨ node.js ä¸­ä½¿ç”¨èµ·æ¥æ›´ç®€å•ã€‚
        åœ¨ node.js ä¸­ç›´æ¥ä½¿ç”¨requireå¼•åŒ…,ç›´æ¥ä½¿ç”¨ exports å’Œ module.exports æš´éœ²å…¬å¼€æˆå‘˜,
        å¹¶ä¸”npmåŸºäºCommonJså®ç°äº†è‡ªåŠ¨åŠ è½½å’Œå®‰è£…ä¾èµ–ã€‚
      åŒæ ·çš„ CommonJs è®© node.js å˜å¾—ï¼š
        1ã€å¢åŠ å†…èšæ€§,æœ‰åŠ©åˆ†å·¥åä½œ,
        2ã€æ–¹ä¾¿é‡æ„,
        3ã€æé«˜ä»£ç è´¨é‡
      node.js ä¸­çš„å®ç°ä¸ºï¼š
        (function(exports,require,module,__filename,__dirname){
        return module.exports;
        });
      require
        åŠ è½½æ¨¡å—åä¼šç¼“å­˜,å¤šæ¬¡åŠ è½½åå¾—åˆ°åŒä¸€å¯¹è±¡ require('http')
        æŸ¥çœ‹æ¨¡å—ç¼“å­˜console.log(require.cache);
        æŸ¥è¯¢æ¨¡å—ç»å¯¹è·¯å¾„ require.resolve('./test.js');
        æŸ¥çœ‹å•ä¸ªçš„æ¨¡å—ç¼“å­˜ require.cache[require.resolve('./test.js')]
        åˆ é™¤æ¨¡å—ç¼“å­˜ delete require.cache[require.resolve('./test.js')];
  ES6æ¨¡å—åŒ–è§„èŒƒ
    PS: export å‘½ä»¤ç”¨äºå®šä¹‰æ¨¡å—çš„å¯¹å¤–æ¥å£,å³æä¾›æ¥å£,
      import å‘½ä»¤ç”¨äºå¼•å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½,å³å¼•å…¥æ¥å£;
    ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³: å°½é‡çš„é™æ€åŒ–
      ä½¿å¾—ç¼–è¯‘æ—¶å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»,ä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚
      CommonJS å’Œ AMD æ¨¡å—: è¿è¡Œæ—¶åŠ è½½
        éƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚
        æ¯”å¦‚,CommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡,è¾“å…¥æ—¶å¿…é¡»æŸ¥æ‰¾å¯¹è±¡å±æ€§ã€‚
        // CommonJSæ¨¡å—
        let { stat, exists, readFile } = require('fs');
        
        // ç­‰åŒäº
        let _fs = require('fs');
        let stat = _fs.stat;
        let exists = _fs.exists;
        let readfile = _fs.readfile;
        ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯æ•´ä½“åŠ è½½fsæ¨¡å—(å³åŠ è½½fsçš„æ‰€æœ‰æ–¹æ³•),ç”Ÿæˆä¸€ä¸ªå¯¹è±¡(_fs),
        ç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–3ä¸ªæ–¹æ³•ã€‚
        è¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€,å› ä¸ºåªæœ‰è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°è¿™ä¸ªå¯¹è±¡,
        å¯¼è‡´å®Œå…¨æ²¡åŠæ³•åœ¨ç¼–è¯‘æ—¶åšâ€œé™æ€ä¼˜åŒ–â€ã€‚
      ES6 æ¨¡å—: â€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½
        ES6ä¸æ˜¯å¯¹è±¡,è€Œæ˜¯é€šè¿‡exportå‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ,å†é€šè¿‡importå‘½ä»¤è¾“å…¥ã€‚
        // ES6æ¨¡å—
        import { stat, exists, readFile } from 'fs';
        ä¸Šé¢ä»£ç çš„å®è´¨æ˜¯ä»fsæ¨¡å—åŠ è½½3ä¸ªæ–¹æ³•,å…¶ä»–æ–¹æ³•ä¸åŠ è½½ã€‚
        è¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€æˆ–è€…é™æ€åŠ è½½,å³ ES6 å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±å®Œæˆæ¨¡å—åŠ è½½,
        æ•ˆç‡è¦æ¯” CommonJS æ¨¡å—çš„åŠ è½½æ–¹å¼é«˜ã€‚
        å½“ç„¶,è¿™ä¹Ÿå¯¼è‡´äº†æ²¡æ³•å¼•ç”¨ ES6 æ¨¡å—æœ¬èº«,å› ä¸ºå®ƒä¸æ˜¯å¯¹è±¡ã€‚
        ç”±äº ES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶åŠ è½½,ä½¿å¾—é™æ€åˆ†ææˆä¸ºå¯èƒ½ã€‚
        æœ‰äº†å®ƒ,å°±èƒ½è¿›ä¸€æ­¥æ‹“å®½ JS çš„è¯­æ³•,
        æ¯”å¦‚å¼•å…¥å®(macro)å’Œç±»å‹æ£€éªŒ(type system)ç­‰åªèƒ½é é™æ€åˆ†æå®ç°çš„åŠŸèƒ½ã€‚
      é™¤äº†é™æ€åŠ è½½å¸¦æ¥çš„å„ç§å¥½å¤„,ES6 æ¨¡å—è¿˜æœ‰ä»¥ä¸‹å¥½å¤„ã€‚
        ä¸å†éœ€è¦UMDæ¨¡å—æ ¼å¼äº†,å°†æ¥æœåŠ¡å™¨å’Œæµè§ˆå™¨éƒ½ä¼šæ”¯æŒ ES6 æ¨¡å—æ ¼å¼ã€‚
        ç›®å‰,é€šè¿‡å„ç§å·¥å…·åº“,å…¶å®å·²ç»åšåˆ°äº†è¿™ä¸€ç‚¹ã€‚
        å°†æ¥æµè§ˆå™¨çš„æ–° API å°±èƒ½ç”¨æ¨¡å—æ ¼å¼æä¾›,ä¸å†å¿…é¡»åšæˆå…¨å±€å˜é‡æˆ–è€…navigatorå¯¹è±¡çš„å±æ€§ã€‚
        ä¸å†éœ€è¦å¯¹è±¡ä½œä¸ºå‘½åç©ºé—´(æ¯”å¦‚Mathå¯¹è±¡),æœªæ¥è¿™äº›åŠŸèƒ½å¯ä»¥é€šè¿‡æ¨¡å—æä¾›ã€‚
    ES6 çš„æ¨¡å—è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼,ä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Š"use strict";
      ä¸¥æ ¼æ¨¡å¼çš„éƒ¨åˆ†é™åˆ¶:
        argumentsä¸ä¼šè‡ªåŠ¨åæ˜ å‡½æ•°å‚æ•°çš„å˜åŒ–
        ä¸èƒ½ä½¿ç”¨arguments.callee
        ä¸èƒ½ä½¿ç”¨arguments.caller
        ä¸èƒ½ä½¿ç”¨ fn.caller å’Œ fn.arguments è·å–å‡½æ•°è°ƒç”¨çš„å †æ ˆ
        ç¦æ­¢thisæŒ‡å‘å…¨å±€å¯¹è±¡
        å˜é‡å¿…é¡»å£°æ˜åå†ä½¿ç”¨
        å‡½æ•°çš„å‚æ•°ä¸èƒ½æœ‰åŒåå±æ€§,å¦åˆ™æŠ¥é”™
        ä¸èƒ½ä½¿ç”¨withè¯­å¥
        ä¸èƒ½å¯¹åªè¯»å±æ€§èµ‹å€¼,å¦åˆ™æŠ¥é”™
        ä¸èƒ½ä½¿ç”¨å‰ç¼€0è¡¨ç¤ºå…«è¿›åˆ¶æ•°,å¦åˆ™æŠ¥é”™
        ä¸èƒ½åˆ é™¤ä¸å¯åˆ é™¤çš„å±æ€§,å¦åˆ™æŠ¥é”™
        ä¸èƒ½åˆ é™¤å˜é‡delete prop,ä¼šæŠ¥é”™,åªèƒ½åˆ é™¤å±æ€§delete global[prop]
        evalä¸ä¼šåœ¨å®ƒçš„å¤–å±‚ä½œç”¨åŸŸå¼•å…¥å˜é‡
        evalå’Œargumentsä¸èƒ½è¢«é‡æ–°èµ‹å€¼
        å¢åŠ äº†ä¿ç•™å­—(æ¯”å¦‚ protected static å’Œ interface )
      ES6 æ¨¡å—ä¹‹ä¸­,é¡¶å±‚çš„thisæŒ‡å‘undefined,å³ä¸åº”è¯¥åœ¨é¡¶å±‚ä»£ç ä½¿ç”¨thisã€‚
    export è¾“å‡ºå˜é‡
      PS:ä¸€ä¸ªæ¨¡å—å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶,
        è¯¥æ–‡ä»¶å†…éƒ¨çš„æ‰€æœ‰å˜é‡,å¤–éƒ¨æ— æ³•è·å–ã€‚
        è‹¥å¸Œæœ›å¤–éƒ¨èƒ½è¯»å–æ¨¡å—å†…çš„å˜é‡,é¡»ä½¿ç”¨exportå…³é”®å­—è¾“å‡ºå˜é‡ã€‚
      export var aoo = val;  å•ä¸ªå˜é‡è¾“å‡º
        e.g.:
          ä½¿ç”¨ export å‘½ä»¤å¯¹å¤–éƒ¨è¾“å‡ºä¸‰ä¸ªå˜é‡: aoo boo coo
          export var aoo = 'aa';
          export var boo = 'bb';
          export var coo = 1958;
        è¾“å‡ºå‡½æ•°æˆ–ç±»(class)
          å¯¹å¤–è¾“å‡ºä¸€ä¸ªå‡½æ•° foo
          export function foo(x, y) { };
      export {aoo,boo};      {} å°è£…åè¾“å‡º
        PS:ä½¿ç”¨å¤§æ‹¬å·æŒ‡å®šæ‰€è¦è¾“å‡ºçš„ä¸€ç»„å˜é‡;
          ä¸å‰ä¸€ç§å†™æ³•(ç›´æ¥æ”¾ç½®åœ¨varè¯­å¥å‰)æ˜¯ç­‰ä»·çš„,
          ä½†æ˜¯åº”è¯¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è¿™ç§å†™æ³•ã€‚
          å› ä¸ºè¿™æ ·å°±å¯ä»¥åœ¨è„šæœ¬å°¾éƒ¨,ä¸€çœ¼çœ‹æ¸…æ¥šè¾“å‡ºäº†å“ªäº›å˜é‡ã€‚
        e.g.:
          var aoo = 'aa';
          var boo = 'bb';
          var coo = 1958;
          export {aoo, boo, coo};
        aså…³é”®å­—  é‡å‘½åè¾“å‡ºå˜é‡
          é‡å‘½åäº†å‡½æ•°foo1å’Œfoo2çš„å¯¹å¤–æ¥å£,foo2ä½¿ç”¨ä¸åŒçš„åå­—è¾“å‡ºäº†ä¸¤æ¬¡:
          function foo1() { ... }
          function foo2() { ... }
          export {
            foo1 as goo1,
            foo2 as goo2,
            foo2 as hoo1
          };
      e.g.:
        export 1; // æŠ¥é”™, ç›´æ¥è¾“å‡º1, 1 åªæ˜¯ä¸€ä¸ªå€¼,ä¸æ˜¯æ¥å£ã€‚
        
        var m = 1;
        export m; // æŠ¥é”™
        å•å˜é‡è¾“å‡ºæ ¼å¼:
        export var m = 1;
        æˆ–
        var m = 1;
        export {m};
        æˆ–
        var n = 1;
        export {n as m};
        
        åŒæ ·çš„,functionå’Œclassçš„è¾“å‡º,ä¹Ÿå¿…é¡»éµå®ˆè¿™æ ·çš„å†™æ³•
        function f() {}
        export f;  // æŠ¥é”™
        æ”¹ä¸º:
        export function f() {};
        æˆ–
        function f() {}
        export {f};
      è¾“å‡ºçš„å€¼æ˜¯å®æ—¶åŠ¨æ€çš„
        export var aoo = 'bar';
        setTimeout(() => aoo = 'baz', 500);
        ä¸Šé¢ä»£ç è¾“å‡ºå˜é‡aoo,å€¼ä¸ºbar,500 æ¯«ç§’ä¹‹åå˜æˆbazã€‚
        è¿™ä¸€ç‚¹ä¸ CommonJS è§„èŒƒå®Œå…¨ä¸åŒã€‚
        CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„ç¼“å­˜,ä¸å­˜åœ¨åŠ¨æ€æ›´æ–°ã€‚
      exportå‘½ä»¤å¿…é¡»åœ¨æ¨¡å—é¡¶å±‚ä½œç”¨åŸŸå®šä¹‰
        exportå‘½ä»¤å¯ä»¥å‡ºç°åœ¨æ¨¡å—çš„ä»»ä½•ä½ç½®,åªè¦å¤„äºæ¨¡å—é¡¶å±‚å°±å¯ä»¥;
        å¦‚æœå¤„äºå—çº§ä½œç”¨åŸŸå†…,å°±ä¼šæŠ¥é”™ã€‚
        å› ä¸ºå¤„äºæ¡ä»¶ä»£ç å—ä¹‹ä¸­,å°±æ²¡æ³•åšé™æ€ä¼˜åŒ–äº†,è¿èƒŒäº†ES6æ¨¡å—çš„è®¾è®¡åˆè¡·ã€‚
        function foo() { export default 'bar' } // SyntaxError
        foo();
        ä¸Šé¢ä»£ç ä¸­,exportè¯­å¥æ”¾åœ¨å‡½æ•°ä¹‹ä¸­,ç»“æœæŠ¥é”™ã€‚
    export default é»˜è®¤è¾“å‡º
      PS:é€šè¿‡é»˜è®¤è¾“å‡º,å’ŒæŒ‡å®šåç§°çš„å¼•å…¥,å®Œæˆæ¨¡å—å˜é‡çš„å¼•å…¥;
      e.g.:
        // export-default.js
        é»˜è®¤è¾“å‡ºä¸€ä¸ªå‡½æ•°
        export default function () { console.log('sss'); }
        æˆ–
        export default function foo() { console.log('sss'); }
        æˆ–
        function foo() { console.log('foo'); }
        export default foo;
        æœ€ç»ˆç›¸å½“äº [self] : export {foo as default };
        // import-default.js
        å…¶ä»–æ¨¡å—åŠ è½½è¯¥æ¨¡å—æ—¶,importå‘½ä»¤å¯ä»¥ä¸ºè¯¥åŒ¿åå‡½æ•°æŒ‡å®šä»»æ„åå­—ã€‚
        import goo from './export-default';
        ç›¸å½“äº [self] : import { default as goo } from './profile';
        goo(); // 'sss'
        å¯ä½¿ç”¨ä»»æ„åç§°æŒ‡å‘ export-default.js è¾“å‡ºçš„æ–¹æ³•,
        è¿™æ—¶å°±ä¸éœ€è¦çŸ¥é“åŸæ¨¡å—è¾“å‡ºçš„å‡½æ•°åã€‚
        å‡½æ•°åfoo,åœ¨æ¨¡å—å¤–éƒ¨æ˜¯æ— æ•ˆçš„,åŠ è½½çš„æ—¶å€™,è§†åŒåŒ¿åå‡½æ•°åŠ è½½ã€‚
        
        è¾“å‡ºç±»
        // MyClass.js
        export default class { ... }
        // main.js
        import MyClass from 'MyClass';
        let o = new MyClass();
      é»˜è®¤è¾“å‡ºå’Œæ­£å¸¸è¾“å‡ºçš„æ¯”è¾ƒ
        ä½¿ç”¨export defaultæ—¶,å¯¹åº”çš„importè¯­å¥ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ï¼›
        export default function foo() { } // è¾“å‡º
        import goo from 'xx';             // è¾“å…¥
        
        æ­£å¸¸æ—¶,å¯¹åº”çš„importè¯­å¥éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚
        export function foo() { }; // è¾“å‡º
        import {goo} from 'xx';    // è¾“å…¥
      ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤è¾“å‡º,export default å‘½ä»¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡
        PS:æœ¬è´¨ä¸Š,export default å°±æ˜¯è¾“å‡ºä¸€ä¸ªå«åšdefaultçš„å˜é‡æˆ–æ–¹æ³•,
          ç„¶åè¾“å…¥æ—¶,ç³»ç»Ÿå…è®¸ä½ ä¸ºå®ƒå–ä»»æ„åå­—ã€‚
        // modules.js
        function foo(x, y) { return x * y; }
        export {foo as default};
        // app.js
        import { default as xxx } from 'modules';
      export default åä¸èƒ½è·Ÿå˜é‡å£°æ˜è¯­å¥
        PS:å› ä¸ºexport defaultå‘½ä»¤å…¶å®åªæ˜¯è¾“å‡ºä¸€ä¸ªå«åšdefaultçš„å˜é‡
          export default æœ¬è´¨æ˜¯å°†è¯¥å‘½ä»¤åé¢çš„å€¼,èµ‹ç»™defaultå˜é‡ä»¥åå†é»˜è®¤
        export var a = 1; // æ­£ç¡®
        
        var a = 1; 
        export default a; // æ­£ç¡®
        ç›¸å½“äº [self] : export { a as default } ;
        
        export default 42; // æ­£ç¡®
        ç›¸å½“äº [self] : export { 42 as default } ;
        
        export default var a = 1; // é”™è¯¯
      åœ¨ä¸€æ¡importè¯­å¥ä¸­åŒæ—¶è¾“å…¥é»˜è®¤æ–¹æ³•å’Œå…¶ä»–å˜é‡
          import _, { each } from 'lodash';
          å¯¹åº”ä¸Šé¢ä»£ç çš„exportè¯­å¥å¦‚ä¸‹ã€‚
          export default function (obj) { }         
          export function each(obj, iterator, context) { }
    import å‘½ä»¤
      PS:exportå®šä¹‰æ¨¡å—çš„å¯¹å¤–æ¥å£å,å…¶ä»– JS æ–‡ä»¶å°±å¯é€šè¿‡importåŠ è½½è¿™ä¸ªæ¨¡å—;
      import {} from './xx' åŠ è½½JSæ–‡ä»¶,å¹¶ä»ä¸­è¾“å…¥å˜é‡
        // main.js
        import {firstName, lastName, year} from './profile';
        console.log(firstName);
        importå‘½ä»¤æ¥å—ä¸€å¯¹å¤§æ‹¬å·,é‡Œé¢æŒ‡å®šè¦ä»å…¶ä»–æ¨¡å—å¯¼å…¥çš„å˜é‡åã€‚
        å¤§æ‹¬å·é‡Œé¢çš„å˜é‡å,å¿…é¡»ä¸è¢«å¯¼å…¥æ¨¡å—(profile.js)å¯¹å¤–æ¥å£çš„åç§°ç›¸åŒã€‚
        fromæŒ‡å®šæ¨¡å—æ–‡ä»¶çš„ä½ç½®,å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„,ä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„,.js å¯ä»¥çœç•¥ã€‚
      as å…³é”®å­—   é‡å‘½åè¾“å…¥çš„å˜é‡
        import { aoo as boo } from './profile';
      import {} from 'moduleName';
        è‹¥ä½¿ç”¨æ¨¡å—å,è€Œéè·¯å¾„è·¯å¾„,åˆ™å¿…é¡»æœ‰é…ç½®æ–‡ä»¶,å‘Šè¯‰ js å¼•æ“è¯¥æ¨¡å—çš„ä½ç½®ã€‚
        import {myMethod} from 'util';
        ä¸Šé¢ä»£ç ä¸­,utilæ˜¯æ¨¡å—æ–‡ä»¶å,
        ç”±äºä¸å¸¦æœ‰è·¯å¾„,å¿…é¡»é€šè¿‡é…ç½®,å‘Šè¯‰å¼•æ“æ€ä¹ˆå–åˆ°è¿™ä¸ªæ¨¡å—ã€‚
      importå‘½ä»¤å…·æœ‰æå‡æ•ˆæœ,ä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨,é¦–å…ˆæ‰§è¡Œã€‚
        foo();
        import { foo } from 'my_module';
        ä¸Šé¢çš„ä»£ç ä¸ä¼šæŠ¥é”™,å› ä¸ºimportçš„æ‰§è¡Œæ—©äºfooçš„è°ƒç”¨ã€‚
        è¿™ç§è¡Œä¸ºçš„æœ¬è´¨æ˜¯,importå‘½ä»¤æ˜¯ç¼–è¯‘é˜¶æ®µæ‰§è¡Œçš„,åœ¨ä»£ç è¿è¡Œä¹‹å‰ã€‚
      ä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡
        ç”±äºimportæ˜¯é™æ€æ‰§è¡Œ,æ‰€ä»¥ä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡,
        è¿™äº›åªæœ‰åœ¨è¿è¡Œæ—¶æ‰èƒ½å¾—åˆ°ç»“æœçš„è¯­æ³•ç»“æ„ã€‚
        import { 'f' + 'oo' } from 'my_module'; // æŠ¥é”™
        
        let module = 'my_module'; // æŠ¥é”™
        import { foo } from module;
        
        if (x === 1) { import { foo } from 'module1'; } // æŠ¥é”™
        else { import { foo } from 'module2'; }
        ä¸Šé¢ä¸‰ç§å†™æ³•éƒ½ä¼šæŠ¥é”™,å› ä¸ºå®ƒä»¬ç”¨åˆ°äº†è¡¨è¾¾å¼ã€å˜é‡å’Œifç»“æ„ã€‚
        åœ¨é™æ€åˆ†æé˜¶æ®µ,è¿™äº›è¯­æ³•éƒ½æ˜¯æ²¡æ³•å¾—åˆ°å€¼çš„ã€‚
      å…¶ä»–å†™æ³•
        importè¯­å¥ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—,å› æ­¤å¯ä»¥æœ‰ä¸‹é¢çš„å†™æ³•ã€‚
        
        ä»…ä»…æ‰§è¡Œlodashæ¨¡å—,ä½†æ˜¯ä¸è¾“å…¥ä»»ä½•å€¼ã€‚
        import 'lodash'; 
        
        å¤šæ¬¡é‡å¤æ‰§è¡ŒåŒä¸€å¥importè¯­å¥,é‚£ä¹ˆåªä¼šæ‰§è¡Œä¸€æ¬¡,è€Œä¸ä¼šæ‰§è¡Œå¤šæ¬¡ã€‚
        import 'lodash';
        import 'lodash'; // æœªæ‰§è¡Œ
      
        importè¯­å¥æ˜¯ Singleton æ¨¡å¼ã€‚
        import { foo } from 'my_module';
        import { bar } from 'my_module';
        ç­‰åŒäº
        import { foo, bar } from 'my_module';
        ä¸Šé¢ä»£ç ä¸­,è™½ç„¶fooå’Œbaråœ¨ä¸¤ä¸ªè¯­å¥ä¸­åŠ è½½,ä½†æ˜¯å®ƒä»¬å¯¹åº”çš„æ˜¯åŒä¸€ä¸ªmy_moduleå®ä¾‹ã€‚
      import * as aoo from './xx';  æ¨¡å—çš„æ•´ä½“åŠ è½½
        PS:é™¤äº†æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼,è¿˜å¯ä»¥ä½¿ç”¨æ•´ä½“åŠ è½½,å³ç”¨æ˜Ÿå·(*)æŒ‡å®šä¸€ä¸ªå¯¹è±¡,
          æ‰€æœ‰è¾“å‡ºå€¼éƒ½åŠ è½½åœ¨è¿™ä¸ªå¯¹è±¡ä¸Šé¢ã€‚
        e.g.:
          // circle.js
          export function area(radius) { return Math.PI * radius * radius; }
          export function circumference(radius) { return 2 * Math.PI * radius; }
          
          // main.js
          import { area, circumference } from './circle';
          console.log('åœ†é¢ç§¯ï¼š' + area(4));
          console.log('åœ†å‘¨é•¿ï¼š' + circumference(14));
          æ”¹ç”¨æ•´ä½“åŠ è½½çš„æ–¹æ³•:
          import * as circle from './circle';
          console.log('åœ†é¢ç§¯ï¼š' + circle.area(4));
          console.log('åœ†å‘¨é•¿ï¼š' + circle.circumference(14));
        æ¨¡å—æ•´ä½“åŠ è½½æ‰€åœ¨çš„å¯¹è±¡(ä¸Šä¾‹æ˜¯circle),åº”è¯¥æ˜¯å¯ä»¥é™æ€åˆ†æçš„,ä¸å…è®¸è¿è¡Œæ—¶æ”¹å˜
          import * as circle from './circle';
          // ä¸‹é¢ä¸¤è¡Œéƒ½æ˜¯ä¸å…è®¸çš„
          circle.foo = 'hello';
          circle.area = function () {};
    export  from   å¤åˆå†™æ³•
      PS:è‹¥åœ¨ä¸€ä¸ªæ¨¡å—ä¹‹ä¸­,å…ˆåè¾“å…¥è¾“å‡ºåŒä¸€ä¸ªæ¨¡å—,importè¯­å¥å¯ä¸exportè¯­å¥å†™åœ¨ä¸€èµ·ã€‚
      e.g.:
        export { foo, bar } from 'my_module';
        // ç­‰åŒäº
        import { foo, bar } from 'my_module';
        export { foo, bar };
      æ¥å£æ”¹å export { foo as myFoo } from 'my_module';
      æ•´ä½“è¾“å‡º export * from 'my_module';
      é»˜è®¤æ¥å£ export { default } from 'foo';
      å…·åæ¥å£æ”¹ä¸ºé»˜è®¤æ¥å£ export { es6 as default } from './someModule';
        // ç­‰åŒäº
        import { es6 } from './someModule';
        export default es6;
      é»˜è®¤æ¥å£æ”¹åä¸ºå…·åæ¥å£ export { default as es6 } from './someModule';
      ä¸‹é¢ä¸‰ç§importè¯­å¥,æ²¡æœ‰å¯¹åº”çš„å¤åˆå†™æ³•ã€‚
        import * as someIdentifier from "someModule";
        import someIdentifier from "someModule";
        import someIdentifier, { namedIdentifier } from "someModule";
        ä¸ºäº†åšåˆ°å½¢å¼çš„å¯¹ç§°,ç°åœ¨æœ‰ææ¡ˆ,æå‡ºè¡¥ä¸Šè¿™ä¸‰ç§å¤åˆå†™æ³•ã€‚
        export * as someIdentifier from "someModule";
        export someIdentifier from "someModule";
        export someIdentifier, { namedIdentifier } from "someModule";
    æ¨¡å—çš„ç»§æ‰¿
      e.g.:
        å‡è®¾æœ‰ä¸€ä¸ªcircleplusæ¨¡å—,ç»§æ‰¿äº†circleæ¨¡å—ã€‚
        // circleplus.js
        export * from 'circle';
        export var e = 2.71828182846;
        export default function(x) { return Math.exp(x); }
        ä¸Šé¢ä»£ç ä¸­çš„export *,è¡¨ç¤ºå†è¾“å‡ºcircleæ¨¡å—çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚
        æ³¨æ„,export *å‘½ä»¤ä¼šå¿½ç•¥circleæ¨¡å—çš„defaultæ–¹æ³•ã€‚
        ç„¶å,ä¸Šé¢ä»£ç åˆè¾“å‡ºäº†è‡ªå®šä¹‰çš„eå˜é‡å’Œé»˜è®¤æ–¹æ³•ã€‚
        è¿™æ—¶,ä¹Ÿå¯ä»¥å°†circleçš„å±æ€§æˆ–æ–¹æ³•,æ”¹ååå†è¾“å‡ºã€‚
        // circleplus.js
        export { area as circleArea } from 'circle';
        ä¸Šé¢ä»£ç è¡¨ç¤º,åªè¾“å‡ºcircleæ¨¡å—çš„areaæ–¹æ³•,ä¸”å°†å…¶æ”¹åä¸ºcircleAreaã€‚
        åŠ è½½ä¸Šé¢æ¨¡å—çš„å†™æ³•å¦‚ä¸‹ã€‚
        // main.js
        import * as math from 'circleplus';
        import exp from 'circleplus';
        console.log(exp(math.e));
        ä¸Šé¢ä»£ç ä¸­çš„import expè¡¨ç¤º,å°†circleplusæ¨¡å—çš„é»˜è®¤æ–¹æ³•åŠ è½½ä¸ºexpæ–¹æ³•ã€‚
    è·¨æ¨¡å—å¸¸é‡
      constå£°æ˜çš„å¸¸é‡åªåœ¨å½“å‰ä»£ç å—æœ‰æ•ˆã€‚
      å¦‚æœæƒ³è®¾ç½®è·¨æ¨¡å—çš„å¸¸é‡(å³è·¨å¤šä¸ªæ–‡ä»¶),æˆ–è€…è¯´ä¸€ä¸ªå€¼è¦è¢«å¤šä¸ªæ¨¡å—å…±äº«,
      å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚
      // constants.js æ¨¡å—
      export const A = 1;
      export const B = 3;
      export const C = 4;
      // test1.js æ¨¡å—
      import * as constants from './constants';
      console.log(constants.A); // 1
      console.log(constants.B); // 3
      // test2.js æ¨¡å—
      import {A, B} from './constants';
      console.log(A); // 1
      console.log(B); // 3
      å¦‚æœè¦ä½¿ç”¨çš„å¸¸é‡éå¸¸å¤š,å¯ä»¥å»ºä¸€ä¸ªä¸“é—¨çš„constantsç›®å½•,
      å°†å„ç§å¸¸é‡å†™åœ¨ä¸åŒçš„æ–‡ä»¶é‡Œé¢,ä¿å­˜åœ¨è¯¥ç›®å½•ä¸‹ã€‚
      // constants/db.js
      export const db = {
        url: 'http://my.couchdbserver.local:5984',
        admin_username: 'admin',
        admin_password: 'admin password'
      };
      // constants/user.js
      export const users = ['root', 'admin', 'staff', 'ceo', 'chief', 'moderator'];
      ç„¶å,å°†è¿™äº›æ–‡ä»¶è¾“å‡ºçš„å¸¸é‡,åˆå¹¶åœ¨index.jsé‡Œé¢ã€‚
      // constants/index.js
      export {db} from './db';
      export {users} from './users';
      ä½¿ç”¨çš„æ—¶å€™,ç›´æ¥åŠ è½½index.jså°±å¯ä»¥äº†ã€‚
      // script.js
      import {db, users} from './constants';
    import(specifier)
      PS:å‰é¢ä»‹ç»è¿‡,importå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æ,
        å…ˆäºæ¨¡å—å†…çš„å…¶ä»–æ¨¡å—æ‰§è¡Œ(å«åšâ€è¿æ¥â€œæ›´åˆé€‚)ã€‚æ‰€ä»¥,ä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™ã€‚
        // æŠ¥é”™
        if (x === 2) { import MyModual from './myModual'; }
        ä¸Šé¢ä»£ç ä¸­,å¼•æ“å¤„ç†importè¯­å¥æ˜¯åœ¨ç¼–è¯‘æ—¶,è¿™æ—¶ä¸ä¼šå»åˆ†ææˆ–æ‰§è¡Œifè¯­å¥,
        æ‰€ä»¥importè¯­å¥æ”¾åœ¨ifä»£ç å—ä¹‹ä¸­æ¯«æ— æ„ä¹‰,å› æ­¤ä¼šæŠ¥å¥æ³•é”™è¯¯,è€Œä¸æ˜¯æ‰§è¡Œæ—¶é”™è¯¯ã€‚
        ä¹Ÿå°±æ˜¯è¯´,importå’Œexportå‘½ä»¤åªèƒ½åœ¨æ¨¡å—çš„é¡¶å±‚,
        ä¸èƒ½åœ¨ä»£ç å—ä¹‹ä¸­(æ¯”å¦‚,åœ¨ifä»£ç å—ä¹‹ä¸­,æˆ–åœ¨å‡½æ•°ä¹‹ä¸­)ã€‚
          
        è¿™æ ·çš„è®¾è®¡,å›ºç„¶æœ‰åˆ©äºç¼–è¯‘å™¨æé«˜æ•ˆç‡,ä½†ä¹Ÿå¯¼è‡´æ— æ³•åœ¨è¿è¡Œæ—¶åŠ è½½æ¨¡å—ã€‚
        ä»è¯­æ³•ä¸Š,æ¡ä»¶åŠ è½½å°±ä¸å¯èƒ½å®ç°ã€‚
        å¦‚æœimportå‘½ä»¤è¦å–ä»£ Node çš„requireæ–¹æ³•,è¿™å°±å½¢æˆäº†ä¸€ä¸ªéšœç¢ã€‚
        å› ä¸ºrequireæ˜¯è¿è¡Œæ—¶åŠ è½½æ¨¡å—,importå‘½ä»¤æ— æ³•å–ä»£requireçš„åŠ¨æ€åŠ è½½åŠŸèƒ½ã€‚
        const path = './' + fileName;
        const myModual = require(path);
        ä¸Šé¢çš„è¯­å¥å°±æ˜¯åŠ¨æ€åŠ è½½,requireåˆ°åº•åŠ è½½å“ªä¸€ä¸ªæ¨¡å—,åªæœ‰è¿è¡Œæ—¶æ‰çŸ¥é“ã€‚
        importè¯­å¥åšä¸åˆ°è¿™ä¸€ç‚¹ã€‚
          
        å› æ­¤,æœ‰ä¸€ä¸ªææ¡ˆ,å»ºè®®å¼•å…¥import()å‡½æ•°,å®ŒæˆåŠ¨æ€åŠ è½½ã€‚
      importå‡½æ•°çš„å‚æ•°specifier,æŒ‡å®šæ‰€è¦åŠ è½½çš„æ¨¡å—çš„ä½ç½®ã€‚
      importå‘½ä»¤èƒ½å¤Ÿæ¥å—ä»€ä¹ˆå‚æ•°,import()å‡½æ•°å°±èƒ½æ¥å—ä»€ä¹ˆå‚æ•°,
      ä¸¤è€…åŒºåˆ«ä¸»è¦æ˜¯åè€…ä¸ºåŠ¨æ€åŠ è½½ã€‚
      import()è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚
      ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚
      const main = document.querySelector('main');
      import(`./section-modules/${someVariable}.js`)
      .then(module => { module.loadPageInto(main); })
      .catch(err => { main.textContent = err.message; });
      import()å‡½æ•°å¯ä»¥ç”¨åœ¨ä»»ä½•åœ°æ–¹,ä¸ä»…ä»…æ˜¯æ¨¡å—,éæ¨¡å—çš„è„šæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚
      å®ƒæ˜¯è¿è¡Œæ—¶æ‰§è¡Œ,ä¹Ÿå°±æ˜¯è¯´,ä»€ä¹ˆæ—¶å€™è¿è¡Œåˆ°è¿™ä¸€å¥,ä¹Ÿä¼šåŠ è½½æŒ‡å®šçš„æ¨¡å—ã€‚
      å¦å¤–,import()å‡½æ•°ä¸æ‰€åŠ è½½çš„æ¨¡å—æ²¡æœ‰é™æ€è¿æ¥å…³ç³»,è¿™ç‚¹ä¹Ÿæ˜¯ä¸importè¯­å¥ä¸ç›¸åŒã€‚
      import()ç±»ä¼¼äº Node çš„requireæ–¹æ³•,åŒºåˆ«ä¸»è¦æ˜¯å‰è€…æ˜¯å¼‚æ­¥åŠ è½½,åè€…æ˜¯åŒæ­¥åŠ è½½ã€‚
      ä¸‹é¢æ˜¯import()çš„ä¸€äº›é€‚ç”¨åœºåˆã€‚
        (1)æŒ‰éœ€åŠ è½½ã€‚
        import()å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™,å†åŠ è½½æŸä¸ªæ¨¡å—ã€‚
        button.addEventListener('click', event => {
          import('./dialogBox.js')
          .then(dialogBox => { dialogBox.open(); })
          .catch(error => { /* Error handling */ })
        });
        ä¸Šé¢ä»£ç ä¸­,import()æ–¹æ³•æ”¾åœ¨clickäº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¹‹ä¸­,åªæœ‰ç”¨æˆ·ç‚¹å‡»äº†æŒ‰é’®,æ‰ä¼šåŠ è½½è¿™ä¸ªæ¨¡å—ã€‚
        (2)æ¡ä»¶åŠ è½½
        import()å¯ä»¥æ”¾åœ¨ifä»£ç å—,æ ¹æ®ä¸åŒçš„æƒ…å†µ,åŠ è½½ä¸åŒçš„æ¨¡å—ã€‚
        if (condition) {
          import('moduleA').then(...);
        } 
        else {
          import('moduleB').then(...);
        }
        ä¸Šé¢ä»£ç ä¸­,å¦‚æœæ»¡è¶³æ¡ä»¶,å°±åŠ è½½æ¨¡å— A,å¦åˆ™åŠ è½½æ¨¡å— Bã€‚
        (3)åŠ¨æ€çš„æ¨¡å—è·¯å¾„
        import()å…è®¸æ¨¡å—è·¯å¾„åŠ¨æ€ç”Ÿæˆã€‚
        import(f())
        .then(...);
        ä¸Šé¢ä»£ç ä¸­,æ ¹æ®å‡½æ•°fçš„è¿”å›ç»“æœ,åŠ è½½ä¸åŒçš„æ¨¡å—ã€‚
        æ³¨æ„ç‚¹
        import()åŠ è½½æ¨¡å—æˆåŠŸä»¥å,è¿™ä¸ªæ¨¡å—ä¼šä½œä¸ºä¸€ä¸ªå¯¹è±¡,å½“ä½œthenæ–¹æ³•çš„å‚æ•°ã€‚
        å› æ­¤,å¯ä»¥ä½¿ç”¨å¯¹è±¡è§£æ„èµ‹å€¼çš„è¯­æ³•,è·å–è¾“å‡ºæ¥å£ã€‚
        import('./myModule.js')
        .then(({export1, export2}) => {
          // ...Â·
        });
        ä¸Šé¢ä»£ç ä¸­,export1 å’Œ export2 éƒ½æ˜¯ myModule.js çš„è¾“å‡ºæ¥å£,å¯ä»¥è§£æ„è·å¾—ã€‚
        å¦‚æœæ¨¡å—æœ‰defaultè¾“å‡ºæ¥å£,å¯ä»¥ç”¨å‚æ•°ç›´æ¥è·å¾—ã€‚
        import('./myModule.js')
        .then(myModule => {
          console.log(myModule.default);
        });
        ä¸Šé¢çš„ä»£ç ä¹Ÿå¯ä»¥ä½¿ç”¨å…·åè¾“å…¥çš„å½¢å¼ã€‚
        import('./myModule.js')
        .then(({default: theDefault}) => {
          console.log(theDefault);
        });
        å¦‚æœæƒ³åŒæ—¶åŠ è½½å¤šä¸ªæ¨¡å—,å¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚
        Promise.all([
          import('./module1.js'),
          import('./module2.js'),
          import('./module3.js'),
        ])
        .then(([module1, module2, module3]) => {
           Â·Â·Â·
        });
        import()ä¹Ÿå¯ä»¥ç”¨åœ¨ async å‡½æ•°ä¹‹ä¸­ã€‚
        async function main() {
          const myModule = await import('./myModule.js');
          const {export1, export2} = await import('./myModule.js');
          const [module1, module2, module3] =
            await Promise.all([
              import('./module1.js'),
              import('./module2.js'),
              import('./module3.js'),
            ]);
        }
        main();    
--------------------------------------------------------------------------------
ECMAScript 7 
  PS:ECMAScript 7 å³ä¸º ECMAScript 2017
-------------------------------------------------------------------------å¾…æ•´ç† 


